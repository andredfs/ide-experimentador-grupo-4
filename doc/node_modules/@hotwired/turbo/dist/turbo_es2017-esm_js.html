<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>turbo.es2017-esm.js - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../../../";
  var index_rel_prefix = "../../../../";
</script>

<script src="../../../../js/navigation.js" defer></script>
<script src="../../../../js/search.js" defer></script>
<script src="../../../../js/search_index.js" defer></script>
<script src="../../../../js/searcher.js" defer></script>
<script src="../../../../js/darkfish.js" defer></script>

<link href="../../../../css/fonts.css" rel="stylesheet">
<link href="../../../../css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../../../table_of_contents.html#pages">Pages</a>
    <a href="../../../../table_of_contents.html#classes">Classes</a>
    <a href="../../../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search (/) for a class, method, ..." spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="project-metadata">
    
<div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
    <li><a href="../../../../Dockerfile.html">Dockerfile</a>
    <li><a href="../../../../Gemfile.html">Gemfile</a>
    <li><a href="../../../../Gemfile_lock.html">Gemfile.lock</a>
    <li><a href="../../../../Procfile_dev.html">Procfile.dev</a>
    <li><a href="../../../../README_md.html">README</a>
    <li><a href="../../../../Rakefile.html">Rakefile</a>
    <li><details><summary>api-engsw</summary>
    <ul class="link-list">
      <li><a href="../../../../api-engsw/README_md.html">README</a>
      <li><a href="../../../../api-engsw/package_json.html">package.json</a>
      <li><a href="../../../../api-engsw/src/index_ts.html">index.ts</a>
      <li><a href="../../../../api-engsw/tsconfig_json.html">tsconfig.json</a>
    </ul></details>
    <li><details><summary>app</summary>
    <ul class="link-list">
      <li><a href="../../../../app/assets/builds/application-03fc998b02aa3523_css.html">application-03fc998b02aa3523.css</a>
      <li><a href="../../../../app/assets/builds/application-9fa53a5f4ddb8195_css.html">application-9fa53a5f4ddb8195.css</a>
      <li><a href="../../../../app/assets/builds/application-c57000490cf66205_css.html">application-c57000490cf66205.css</a>
      <li><a href="../../../../app/assets/builds/application_js.html">application.js</a>
      <li><a href="../../../../app/assets/builds/application_js_map.html">application.js.map</a>
      <li><a href="../../../../app/assets/config/manifest_js.html">manifest.js</a>
      <li><a href="../../../../app/assets/stylesheets/application_css.html">application.css</a>
      <li><a href="../../../../app/javascript/application_js.html">application.js</a>
      <li><a href="../../../../app/javascript/controllers/application_js.html">application.js</a>
      <li><a href="../../../../app/javascript/controllers/hello_controller_js.html">hello_controller.js</a>
      <li><a href="../../../../app/javascript/controllers/index_js.html">index.js</a>
      <li><a href="../../../../app/javascript/react/src/components/Auth_jsx.html">Auth.jsx</a>
      <li><a href="../../../../app/javascript/react/src/components/Graph_jsx.html">Graph.jsx</a>
      <li><a href="../../../../app/javascript/react/src/components/Hello_jsx.html">Hello.jsx</a>
      <li><a href="../../../../app/javascript/react/src/components/SignInButton_jsx.html">SignInButton.jsx</a>
      <li><a href="../../../../app/javascript/react/src/components/SignOutButton_jsx.html">SignOutButton.jsx</a>
      <li><a href="../../../../app/javascript/react/src/components/SignUpButton_jsx.html">SignUpButton.jsx</a>
      <li><a href="../../../../app/javascript/react/src/index_js.html">index.js</a>
    </ul></details>
    <li><details><summary>bin</summary>
    <ul class="link-list">
      <li><a href="../../../../bin/dev.html">dev</a>
      <li><a href="../../../../bin/docker-entrypoint.html">docker-entrypoint</a>
    </ul></details>
    <li><a href="../../../../bun_config_js.html">bun.config.js</a>
    <li><a href="../../../../config_ru.html">config.ru</a>
    <li><details><summary>config</summary>
    <ul class="link-list">
      <li><a href="../../../../config/cadastro_feature.html">cadastro.feature</a>
      <li><a href="../../../../config/credentials_yml_enc.html">credentials.yml.enc</a>
      <li><a href="../../../../config/login_feature.html">login.feature</a>
    </ul></details>
    <li><a href="../../../../exemploCurtoReq_json.html">exemploCurtoReq.json</a>
    <li><details><summary>features</summary>
    <ul class="link-list">
      <li><a href="../../../../features/Cadastro_feature.html">Cadastro.feature</a>
      <li><a href="../../../../features/Login_feature.html">Login.feature</a>
      <li><a href="../../../../features/world_feature.html">world.feature</a>
    </ul></details>
    <li><details><summary>log</summary>
    <ul class="link-list">
      <li><a href="../../../../log/development_log.html">development.log</a>
      <li><a href="../../../../log/test_log.html">test.log</a>
    </ul></details>
    <li><details open><summary>node_modules</summary>
    <ul class="link-list">
      <li><a href="../../../../node_modules/@hotwired/stimulus/LICENSE_md.html">LICENSE</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/README_md.html">README</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/stimulus_js.html">stimulus.js</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/stimulus_umd_js.html">stimulus.umd.js</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/action_d_ts.html">action.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/action_descriptor_d_ts.html">action_descriptor.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/action_event_d_ts.html">action_event.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/application_d_ts.html">application.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/binding_d_ts.html">binding.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/binding_observer_d_ts.html">binding_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/blessing_d_ts.html">blessing.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/class_map_d_ts.html">class_map.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/class_properties_d_ts.html">class_properties.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/constructor_d_ts.html">constructor.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/context_d_ts.html">context.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/controller_d_ts.html">controller.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/data_map_d_ts.html">data_map.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/definition_d_ts.html">definition.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/dispatcher_d_ts.html">dispatcher.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/error_handler_d_ts.html">error_handler.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/event_listener_d_ts.html">event_listener.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/guide_d_ts.html">guide.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/index_d_ts.html">index.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/inheritable_statics_d_ts.html">inheritable_statics.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/logger_d_ts.html">logger.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/module_d_ts.html">module.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/outlet_observer_d_ts.html">outlet_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/outlet_properties_d_ts.html">outlet_properties.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/outlet_set_d_ts.html">outlet_set.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/router_d_ts.html">router.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/schema_d_ts.html">schema.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/scope_d_ts.html">scope.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/scope_observer_d_ts.html">scope_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/selectors_d_ts.html">selectors.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/string_helpers_d_ts.html">string_helpers.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/target_observer_d_ts.html">target_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/target_properties_d_ts.html">target_properties.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/target_set_d_ts.html">target_set.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/utils_d_ts.html">utils.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/value_observer_d_ts.html">value_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/core/value_properties_d_ts.html">value_properties.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/index_d_ts.html">index.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/multimap/index_d_ts.html">index.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/multimap/indexed_multimap_d_ts.html">indexed_multimap.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/multimap/multimap_d_ts.html">multimap.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/multimap/set_operations_d_ts.html">set_operations.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/mutation-observers/attribute_observer_d_ts.html">attribute_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/mutation-observers/element_observer_d_ts.html">element_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/mutation-observers/index_d_ts.html">index.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/mutation-observers/selector_observer_d_ts.html">selector_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/mutation-observers/string_map_observer_d_ts.html">string_map_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/mutation-observers/token_list_observer_d_ts.html">token_list_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/mutation-observers/value_list_observer_d_ts.html">value_list_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/cases/application_test_case_d_ts.html">application_test_case.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/cases/controller_test_case_d_ts.html">controller_test_case.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/cases/dom_test_case_d_ts.html">dom_test_case.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/cases/index_d_ts.html">index.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/cases/log_controller_test_case_d_ts.html">log_controller_test_case.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/cases/observer_test_case_d_ts.html">observer_test_case.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/cases/test_case_d_ts.html">test_case.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/controllers/class_controller_d_ts.html">class_controller.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/controllers/default_value_controller_d_ts.html">default_value_controller.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/controllers/log_controller_d_ts.html">log_controller.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/controllers/outlet_controller_d_ts.html">outlet_controller.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/controllers/target_controller_d_ts.html">target_controller.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/controllers/value_controller_d_ts.html">value_controller.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/fixtures/application_start/helpers_d_ts.html">helpers.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/fixtures/application_start/index_d_ts.html">index.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/index_d_ts.html">index.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/action_click_filter_tests_d_ts.html">action_click_filter_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/action_keyboard_filter_tests_d_ts.html">action_keyboard_filter_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/action_ordering_tests_d_ts.html">action_ordering_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/action_params_case_insensitive_tests_d_ts.html">action_params_case_insensitive_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/action_params_tests_d_ts.html">action_params_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/action_tests_d_ts.html">action_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/action_timing_tests_d_ts.html">action_timing_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/application_start_tests_d_ts.html">application_start_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/application_tests_d_ts.html">application_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/class_tests_d_ts.html">class_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/data_tests_d_ts.html">data_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/default_value_tests_d_ts.html">default_value_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/error_handler_tests_d_ts.html">error_handler_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/es6_tests_d_ts.html">es6_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/event_options_tests_d_ts.html">event_options_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/extending_application_tests_d_ts.html">extending_application_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/legacy_target_tests_d_ts.html">legacy_target_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/lifecycle_tests_d_ts.html">lifecycle_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/loading_tests_d_ts.html">loading_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/memory_tests_d_ts.html">memory_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/outlet_order_tests_d_ts.html">outlet_order_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/outlet_tests_d_ts.html">outlet_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/string_helpers_tests_d_ts.html">string_helpers_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/target_tests_d_ts.html">target_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/value_properties_tests_d_ts.html">value_properties_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/core/value_tests_d_ts.html">value_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/mutation-observers/attribute_observer_tests_d_ts.html">attribute_observer_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/mutation-observers/selector_observer_tests_d_ts.html">selector_observer_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/mutation-observers/token_list_observer_tests_d_ts.html">token_list_observer_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/dist/types/tests/modules/mutation-observers/value_list_observer_tests_d_ts.html">value_list_observer_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/stimulus/package_json.html">package.json</a>
      <li><a href="../../../../node_modules/@hotwired/turbo-rails/README_md.html">README</a>
      <li><a href="../../../../node_modules/@hotwired/turbo-rails/app/assets/javascripts/turbo_js.html">turbo.js</a>
      <li><a href="../../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable_js.html">cable.js</a>
      <li><a href="../../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable_stream_source_element_js.html">cable_stream_source_element.js</a>
      <li><a href="../../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/fetch_requests_js.html">fetch_requests.js</a>
      <li><a href="../../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/index_js.html">index.js</a>
      <li><a href="../../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/snakeize_js.html">snakeize.js</a>
      <li><a href="../../../../node_modules/@hotwired/turbo-rails/package_json.html">package.json</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/README_md.html">README</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/turbo_es2017-esm_js.html">turbo.es2017-esm.js</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/turbo_es2017-umd_js.html">turbo.es2017-umd.js</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/bardo_d_ts.html">bardo.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/cache_d_ts.html">cache.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/drive/error_renderer_d_ts.html">error_renderer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/drive/form_submission_d_ts.html">form_submission.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/drive/head_snapshot_d_ts.html">head_snapshot.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/drive/history_d_ts.html">history.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/drive/navigator_d_ts.html">navigator.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/drive/page_renderer_d_ts.html">page_renderer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/drive/page_snapshot_d_ts.html">page_snapshot.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/drive/page_view_d_ts.html">page_view.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/drive/preloader_d_ts.html">preloader.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/drive/progress_bar_d_ts.html">progress_bar.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/drive/snapshot_cache_d_ts.html">snapshot_cache.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/drive/visit_d_ts.html">visit.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/errors_d_ts.html">errors.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/frames/frame_controller_d_ts.html">frame_controller.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/frames/frame_redirector_d_ts.html">frame_redirector.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/frames/frame_renderer_d_ts.html">frame_renderer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/frames/frame_view_d_ts.html">frame_view.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/frames/link_interceptor_d_ts.html">link_interceptor.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/index_d_ts.html">index.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/native/adapter_d_ts.html">adapter.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/native/browser_adapter_d_ts.html">browser_adapter.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/renderer_d_ts.html">renderer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/session_d_ts.html">session.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/snapshot_d_ts.html">snapshot.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/streams/stream_actions_d_ts.html">stream_actions.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/streams/stream_message_d_ts.html">stream_message.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/streams/stream_message_renderer_d_ts.html">stream_message_renderer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/types_d_ts.html">types.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/url_d_ts.html">url.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/core/view_d_ts.html">view.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/elements/frame_element_d_ts.html">frame_element.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/elements/index_d_ts.html">index.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/elements/stream_element_d_ts.html">stream_element.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/elements/stream_source_element_d_ts.html">stream_source_element.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/http/fetch_request_d_ts.html">fetch_request.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/http/fetch_response_d_ts.html">fetch_response.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/http/index_d_ts.html">index.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/index_d_ts.html">index.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/observers/appearance_observer_d_ts.html">appearance_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/observers/cache_observer_d_ts.html">cache_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/observers/form_link_click_observer_d_ts.html">form_link_click_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/observers/form_submit_observer_d_ts.html">form_submit_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/observers/link_click_observer_d_ts.html">link_click_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/observers/page_observer_d_ts.html">page_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/observers/scroll_observer_d_ts.html">scroll_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/observers/stream_observer_d_ts.html">stream_observer.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/polyfills/custom-elements-native-shim_d_ts.html">custom-elements-native-shim.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/polyfills/index_d_ts.html">index.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/polyfills/submit-event_d_ts.html">submit-event.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/script_warning_d_ts.html">script_warning.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/async_script_tests_d_ts.html">async_script_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/autofocus_tests_d_ts.html">autofocus_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/cache_observer_tests_d_ts.html">cache_observer_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/drive_disabled_tests_d_ts.html">drive_disabled_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/drive_tests_d_ts.html">drive_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/form_mode_tests_d_ts.html">form_mode_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/form_submission_tests_d_ts.html">form_submission_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/frame_navigation_tests_d_ts.html">frame_navigation_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/frame_tests_d_ts.html">frame_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/import_tests_d_ts.html">import_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/loading_tests_d_ts.html">loading_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/navigation_tests_d_ts.html">navigation_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/pausable_rendering_tests_d_ts.html">pausable_rendering_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/pausable_requests_tests_d_ts.html">pausable_requests_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/preloader_tests_d_ts.html">preloader_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/rendering_tests_d_ts.html">rendering_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/scroll_restoration_tests_d_ts.html">scroll_restoration_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/stream_tests_d_ts.html">stream_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/functional/visit_tests_d_ts.html">visit_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/helpers/dom_test_case_d_ts.html">dom_test_case.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/helpers/page_d_ts.html">page.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/integration/ujs_tests_d_ts.html">ujs_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/server_d_ts.html">server.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/unit/deprecated_adapter_support_tests_d_ts.html">deprecated_adapter_support_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/unit/export_tests_d_ts.html">export_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/tests/unit/stream_element_tests_d_ts.html">stream_element_tests.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/dist/types/util_d_ts.html">util.d.ts</a>
      <li><a href="../../../../node_modules/@hotwired/turbo/package_json.html">package.json</a>
      <li><a href="../../../../node_modules/@rails/actioncable/README_md.html">README</a>
      <li><a href="../../../../node_modules/@rails/actioncable/app/assets/javascripts/action_cable_js.html">action_cable.js</a>
      <li><a href="../../../../node_modules/@rails/actioncable/app/assets/javascripts/actioncable_esm_js.html">actioncable.esm.js</a>
      <li><a href="../../../../node_modules/@rails/actioncable/app/assets/javascripts/actioncable_js.html">actioncable.js</a>
      <li><a href="../../../../node_modules/@rails/actioncable/package_json.html">package.json</a>
      <li><a href="../../../../node_modules/@rails/actioncable/src/adapters_js.html">adapters.js</a>
      <li><a href="../../../../node_modules/@rails/actioncable/src/connection_js.html">connection.js</a>
      <li><a href="../../../../node_modules/@rails/actioncable/src/connection_monitor_js.html">connection_monitor.js</a>
      <li><a href="../../../../node_modules/@rails/actioncable/src/consumer_js.html">consumer.js</a>
      <li><a href="../../../../node_modules/@rails/actioncable/src/index_js.html">index.js</a>
      <li><a href="../../../../node_modules/@rails/actioncable/src/index_with_name_deprecation_js.html">index_with_name_deprecation.js</a>
      <li><a href="../../../../node_modules/@rails/actioncable/src/internal_js.html">internal.js</a>
      <li><a href="../../../../node_modules/@rails/actioncable/src/logger_js.html">logger.js</a>
      <li><a href="../../../../node_modules/@rails/actioncable/src/subscription_js.html">subscription.js</a>
      <li><a href="../../../../node_modules/@rails/actioncable/src/subscription_guarantor_js.html">subscription_guarantor.js</a>
      <li><a href="../../../../node_modules/@rails/actioncable/src/subscriptions_js.html">subscriptions.js</a>
      <li><a href="../../../../node_modules/js-tokens/CHANGELOG_md.html">CHANGELOG</a>
      <li><a href="../../../../node_modules/js-tokens/LICENSE.html">LICENSE</a>
      <li><a href="../../../../node_modules/js-tokens/README_md.html">README</a>
      <li><a href="../../../../node_modules/js-tokens/index_js.html">index.js</a>
      <li><a href="../../../../node_modules/js-tokens/package_json.html">package.json</a>
      <li><a href="../../../../node_modules/loose-envify/LICENSE.html">LICENSE</a>
      <li><a href="../../../../node_modules/loose-envify/README_md.html">README</a>
      <li><a href="../../../../node_modules/loose-envify/cli_js.html">cli.js</a>
      <li><a href="../../../../node_modules/loose-envify/custom_js.html">custom.js</a>
      <li><a href="../../../../node_modules/loose-envify/index_js.html">index.js</a>
      <li><a href="../../../../node_modules/loose-envify/loose-envify_js.html">loose-envify.js</a>
      <li><a href="../../../../node_modules/loose-envify/package_json.html">package.json</a>
      <li><a href="../../../../node_modules/loose-envify/replace_js.html">replace.js</a>
      <li><a href="../../../../node_modules/react-dom/LICENSE.html">LICENSE</a>
      <li><a href="../../../../node_modules/react-dom/README_md.html">README</a>
      <li><a href="../../../../node_modules/react-dom/cjs/react-dom-server-legacy_browser_development_js.html">react-dom-server-legacy.browser.development.js</a>
      <li><a href="../../../../node_modules/react-dom/cjs/react-dom-server-legacy_browser_production_min_js.html">react-dom-server-legacy.browser.production.min.js</a>
      <li><a href="../../../../node_modules/react-dom/cjs/react-dom-server-legacy_node_development_js.html">react-dom-server-legacy.node.development.js</a>
      <li><a href="../../../../node_modules/react-dom/cjs/react-dom-server-legacy_node_production_min_js.html">react-dom-server-legacy.node.production.min.js</a>
      <li><a href="../../../../node_modules/react-dom/cjs/react-dom-server_browser_development_js.html">react-dom-server.browser.development.js</a>
      <li><a href="../../../../node_modules/react-dom/cjs/react-dom-server_browser_production_min_js.html">react-dom-server.browser.production.min.js</a>
      <li><a href="../../../../node_modules/react-dom/cjs/react-dom-server_node_development_js.html">react-dom-server.node.development.js</a>
      <li><a href="../../../../node_modules/react-dom/cjs/react-dom-server_node_production_min_js.html">react-dom-server.node.production.min.js</a>
      <li><a href="../../../../node_modules/react-dom/cjs/react-dom-test-utils_development_js.html">react-dom-test-utils.development.js</a>
      <li><a href="../../../../node_modules/react-dom/cjs/react-dom-test-utils_production_min_js.html">react-dom-test-utils.production.min.js</a>
      <li><a href="../../../../node_modules/react-dom/cjs/react-dom_development_js.html">react-dom.development.js</a>
      <li><a href="../../../../node_modules/react-dom/cjs/react-dom_production_min_js.html">react-dom.production.min.js</a>
      <li><a href="../../../../node_modules/react-dom/cjs/react-dom_profiling_min_js.html">react-dom.profiling.min.js</a>
      <li><a href="../../../../node_modules/react-dom/client_js.html">client.js</a>
      <li><a href="../../../../node_modules/react-dom/index_js.html">index.js</a>
      <li><a href="../../../../node_modules/react-dom/package_json.html">package.json</a>
      <li><a href="../../../../node_modules/react-dom/profiling_js.html">profiling.js</a>
      <li><a href="../../../../node_modules/react-dom/server_browser_js.html">server.browser.js</a>
      <li><a href="../../../../node_modules/react-dom/server_js.html">server.js</a>
      <li><a href="../../../../node_modules/react-dom/server_node_js.html">server.node.js</a>
      <li><a href="../../../../node_modules/react-dom/test-utils_js.html">test-utils.js</a>
      <li><a href="../../../../node_modules/react-dom/umd/react-dom-server-legacy_browser_development_js.html">react-dom-server-legacy.browser.development.js</a>
      <li><a href="../../../../node_modules/react-dom/umd/react-dom-server-legacy_browser_production_min_js.html">react-dom-server-legacy.browser.production.min.js</a>
      <li><a href="../../../../node_modules/react-dom/umd/react-dom-server_browser_development_js.html">react-dom-server.browser.development.js</a>
      <li><a href="../../../../node_modules/react-dom/umd/react-dom-server_browser_production_min_js.html">react-dom-server.browser.production.min.js</a>
      <li><a href="../../../../node_modules/react-dom/umd/react-dom-test-utils_development_js.html">react-dom-test-utils.development.js</a>
      <li><a href="../../../../node_modules/react-dom/umd/react-dom-test-utils_production_min_js.html">react-dom-test-utils.production.min.js</a>
      <li><a href="../../../../node_modules/react-dom/umd/react-dom_development_js.html">react-dom.development.js</a>
      <li><a href="../../../../node_modules/react-dom/umd/react-dom_production_min_js.html">react-dom.production.min.js</a>
      <li><a href="../../../../node_modules/react-dom/umd/react-dom_profiling_min_js.html">react-dom.profiling.min.js</a>
      <li><a href="../../../../node_modules/react/LICENSE.html">LICENSE</a>
      <li><a href="../../../../node_modules/react/README_md.html">README</a>
      <li><a href="../../../../node_modules/react/cjs/react-jsx-dev-runtime_development_js.html">react-jsx-dev-runtime.development.js</a>
      <li><a href="../../../../node_modules/react/cjs/react-jsx-dev-runtime_production_min_js.html">react-jsx-dev-runtime.production.min.js</a>
      <li><a href="../../../../node_modules/react/cjs/react-jsx-dev-runtime_profiling_min_js.html">react-jsx-dev-runtime.profiling.min.js</a>
      <li><a href="../../../../node_modules/react/cjs/react-jsx-runtime_development_js.html">react-jsx-runtime.development.js</a>
      <li><a href="../../../../node_modules/react/cjs/react-jsx-runtime_production_min_js.html">react-jsx-runtime.production.min.js</a>
      <li><a href="../../../../node_modules/react/cjs/react-jsx-runtime_profiling_min_js.html">react-jsx-runtime.profiling.min.js</a>
      <li><a href="../../../../node_modules/react/cjs/react_development_js.html">react.development.js</a>
      <li><a href="../../../../node_modules/react/cjs/react_production_min_js.html">react.production.min.js</a>
      <li><a href="../../../../node_modules/react/cjs/react_shared-subset_development_js.html">react.shared-subset.development.js</a>
      <li><a href="../../../../node_modules/react/cjs/react_shared-subset_production_min_js.html">react.shared-subset.production.min.js</a>
      <li><a href="../../../../node_modules/react/index_js.html">index.js</a>
      <li><a href="../../../../node_modules/react/jsx-dev-runtime_js.html">jsx-dev-runtime.js</a>
      <li><a href="../../../../node_modules/react/jsx-runtime_js.html">jsx-runtime.js</a>
      <li><a href="../../../../node_modules/react/package_json.html">package.json</a>
      <li><a href="../../../../node_modules/react/react_shared-subset_js.html">react.shared-subset.js</a>
      <li><a href="../../../../node_modules/react/umd/react_development_js.html">react.development.js</a>
      <li><a href="../../../../node_modules/react/umd/react_production_min_js.html">react.production.min.js</a>
      <li><a href="../../../../node_modules/react/umd/react_profiling_min_js.html">react.profiling.min.js</a>
      <li><a href="../../../../node_modules/remount/LICENSE_md.html">LICENSE</a>
      <li><a href="../../../../node_modules/remount/README_md.html">README</a>
      <li><a href="../../../../node_modules/remount/dist/adapters/react-17_d_ts.html">react-17.d.ts</a>
      <li><a href="../../../../node_modules/remount/dist/adapters/react_d_ts.html">react.d.ts</a>
      <li><a href="../../../../node_modules/remount/dist/core_d_ts.html">core.d.ts</a>
      <li><a href="../../../../node_modules/remount/dist/each_d_ts.html">each.d.ts</a>
      <li><a href="../../../../node_modules/remount/dist/helpers/babel_es5_adapter_d_ts.html">babel_es5_adapter.d.ts</a>
      <li><a href="../../../../node_modules/remount/dist/index_d_ts.html">index.d.ts</a>
      <li><a href="../../../../node_modules/remount/dist/react_d_ts.html">react.d.ts</a>
      <li><a href="../../../../node_modules/remount/dist/remount_cjs.html">remount.cjs</a>
      <li><a href="../../../../node_modules/remount/dist/remount_cjs_map.html">remount.cjs.map</a>
      <li><a href="../../../../node_modules/remount/dist/remount_es5_js.html">remount.es5.js</a>
      <li><a href="../../../../node_modules/remount/dist/remount_es5_min_js.html">remount.es5.min.js</a>
      <li><a href="../../../../node_modules/remount/dist/remount_js.html">remount.js</a>
      <li><a href="../../../../node_modules/remount/dist/remount_min_js.html">remount.min.js</a>
      <li><a href="../../../../node_modules/remount/dist/remount_modern_js.html">remount.modern.js</a>
      <li><a href="../../../../node_modules/remount/dist/remount_modern_js_map.html">remount.modern.js.map</a>
      <li><a href="../../../../node_modules/remount/dist/remount_module_js.html">remount.module.js</a>
      <li><a href="../../../../node_modules/remount/dist/remount_module_js_map.html">remount.module.js.map</a>
      <li><a href="../../../../node_modules/remount/dist/remount_umd_js.html">remount.umd.js</a>
      <li><a href="../../../../node_modules/remount/dist/remount_umd_js_map.html">remount.umd.js.map</a>
      <li><a href="../../../../node_modules/remount/dist/strategies/custom_elements_d_ts.html">custom_elements.d.ts</a>
      <li><a href="../../../../node_modules/remount/dist/strategies/mutation_observer_d_ts.html">mutation_observer.d.ts</a>
      <li><a href="../../../../node_modules/remount/dist/types_d_ts.html">types.d.ts</a>
      <li><a href="../../../../node_modules/remount/es5_js.html">es5.js</a>
      <li><a href="../../../../node_modules/remount/index_js.html">index.js</a>
      <li><a href="../../../../node_modules/remount/package_json.html">package.json</a>
      <li><a href="../../../../node_modules/remount/src/core_js.html">core.js</a>
      <li><a href="../../../../node_modules/remount/src/each_js.html">each.js</a>
      <li><a href="../../../../node_modules/remount/src/helpers/babel_es5_adapter_js.html">babel_es5_adapter.js</a>
      <li><a href="../../../../node_modules/remount/src/index_js.html">index.js</a>
      <li><a href="../../../../node_modules/remount/src/react-shadow-dom-retarget-events_d_ts.html">react-shadow-dom-retarget-events.d.ts</a>
      <li><a href="../../../../node_modules/remount/src/react_js.html">react.js</a>
      <li><a href="../../../../node_modules/remount/src/strategies/custom_elements_js.html">custom_elements.js</a>
      <li><a href="../../../../node_modules/remount/src/strategies/mutation_observer_js.html">mutation_observer.js</a>
      <li><a href="../../../../node_modules/remount/src/types_ts.html">types.ts</a>
      <li><a href="../../../../node_modules/scheduler/LICENSE.html">LICENSE</a>
      <li><a href="../../../../node_modules/scheduler/README_md.html">README</a>
      <li><a href="../../../../node_modules/scheduler/cjs/scheduler-unstable_mock_development_js.html">scheduler-unstable_mock.development.js</a>
      <li><a href="../../../../node_modules/scheduler/cjs/scheduler-unstable_mock_production_min_js.html">scheduler-unstable_mock.production.min.js</a>
      <li><a href="../../../../node_modules/scheduler/cjs/scheduler-unstable_post_task_development_js.html">scheduler-unstable_post_task.development.js</a>
      <li><a href="../../../../node_modules/scheduler/cjs/scheduler-unstable_post_task_production_min_js.html">scheduler-unstable_post_task.production.min.js</a>
      <li><a href="../../../../node_modules/scheduler/cjs/scheduler_development_js.html">scheduler.development.js</a>
      <li><a href="../../../../node_modules/scheduler/cjs/scheduler_production_min_js.html">scheduler.production.min.js</a>
      <li><a href="../../../../node_modules/scheduler/index_js.html">index.js</a>
      <li><a href="../../../../node_modules/scheduler/package_json.html">package.json</a>
      <li><a href="../../../../node_modules/scheduler/umd/scheduler-unstable_mock_development_js.html">scheduler-unstable_mock.development.js</a>
      <li><a href="../../../../node_modules/scheduler/umd/scheduler-unstable_mock_production_min_js.html">scheduler-unstable_mock.production.min.js</a>
      <li><a href="../../../../node_modules/scheduler/umd/scheduler_development_js.html">scheduler.development.js</a>
      <li><a href="../../../../node_modules/scheduler/umd/scheduler_production_min_js.html">scheduler.production.min.js</a>
      <li><a href="../../../../node_modules/scheduler/umd/scheduler_profiling_min_js.html">scheduler.profiling.min.js</a>
      <li><a href="../../../../node_modules/scheduler/unstable_mock_js.html">unstable_mock.js</a>
      <li><a href="../../../../node_modules/scheduler/unstable_post_task_js.html">unstable_post_task.js</a>
    </ul></details>
    <li><a href="../../../../package-lock_json.html">package-lock.json</a>
    <li><a href="../../../../package_json.html">package.json</a>
    <li><details><summary>public</summary>
    <ul class="link-list">
      <li><a href="../../../../public/404_html.html">404.html</a>
      <li><a href="../../../../public/422_html.html">422.html</a>
      <li><a href="../../../../public/500_html.html">500.html</a>
      <li><a href="../../../../public/apple-touch-icon-precomposed_png.html">apple-touch-icon-precomposed.png</a>
      <li><a href="../../../../public/apple-touch-icon_png.html">apple-touch-icon.png</a>
      <li><a href="../../../../public/favicon_ico.html">favicon.ico</a>
      <li><a href="../../../../public/robots_txt.html">robots</a>
    </ul></details>
    <li><details><summary>tmp</summary>
    <ul class="link-list">
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-00-07-27_329_html.html">screenshot_2023-12-17-00-07-27.329.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-00-10-38_970_html.html">screenshot_2023-12-17-00-10-38.970.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-00-27-36_324_html.html">screenshot_2023-12-17-00-27-36.324.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-00-32-01_052_html.html">screenshot_2023-12-17-00-32-01.052.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-00-35-22_967_html.html">screenshot_2023-12-17-00-35-22.967.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-00-38-53_261_html.html">screenshot_2023-12-17-00-38-53.261.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-00-39-12_758_html.html">screenshot_2023-12-17-00-39-12.758.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-00-39-52_967_html.html">screenshot_2023-12-17-00-39-52.967.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-00-40-53_070_html.html">screenshot_2023-12-17-00-40-53.070.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-00-50-11_628_html.html">screenshot_2023-12-17-00-50-11.628.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-00-52-17_274_html.html">screenshot_2023-12-17-00-52-17.274.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-01-08-23_509_html.html">screenshot_2023-12-17-01-08-23.509.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-01-22-25_834_html.html">screenshot_2023-12-17-01-22-25.834.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-01-23-13_817_html.html">screenshot_2023-12-17-01-23-13.817.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-01-24-14_191_html.html">screenshot_2023-12-17-01-24-14.191.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-01-27-36_097_html.html">screenshot_2023-12-17-01-27-36.097.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-01-28-44_615_html.html">screenshot_2023-12-17-01-28-44.615.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-04-07-51_467_html.html">screenshot_2023-12-17-04-07-51.467.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-04-08-49_640_html.html">screenshot_2023-12-17-04-08-49.640.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-14-04-56_982_html.html">screenshot_2023-12-17-14-04-56.982.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-14-04-57_205_html.html">screenshot_2023-12-17-14-04-57.205.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-15-57-39_329_html.html">screenshot_2023-12-17-15-57-39.329.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-15-57-44_282_html.html">screenshot_2023-12-17-15-57-44.282.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-15-57-44_445_html.html">screenshot_2023-12-17-15-57-44.445.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-16-00-31_690_html.html">screenshot_2023-12-17-16-00-31.690.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-16-00-36_633_html.html">screenshot_2023-12-17-16-00-36.633.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-16-00-36_787_html.html">screenshot_2023-12-17-16-00-36.787.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-16-02-12_893_html.html">screenshot_2023-12-17-16-02-12.893.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-16-02-17_789_html.html">screenshot_2023-12-17-16-02-17.789.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-16-02-17_969_html.html">screenshot_2023-12-17-16-02-17.969.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-16-04-38_141_html.html">screenshot_2023-12-17-16-04-38.141.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-16-04-43_061_html.html">screenshot_2023-12-17-16-04-43.061.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-16-04-43_268_html.html">screenshot_2023-12-17-16-04-43.268.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-16-06-37_538_html.html">screenshot_2023-12-17-16-06-37.538.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-16-06-42_484_html.html">screenshot_2023-12-17-16-06-42.484.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-17-16-06-42_646_html.html">screenshot_2023-12-17-16-06-42.646.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-18-17-15-10_510_html.html">screenshot_2023-12-18-17-15-10.510.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-18-17-15-15_701_html.html">screenshot_2023-12-18-17-15-15.701.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-18-17-15-15_872_html.html">screenshot_2023-12-18-17-15-15.872.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-18-18-26-12_134_html.html">screenshot_2023-12-18-18-26-12.134.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-18-18-26-17_175_html.html">screenshot_2023-12-18-18-26-17.175.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-18-18-26-17_378_html.html">screenshot_2023-12-18-18-26-17.378.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-04-35_363_html.html">screenshot_2023-12-19-00-04-35.363.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-04-41_739_html.html">screenshot_2023-12-19-00-04-41.739.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-04-42_009_html.html">screenshot_2023-12-19-00-04-42.009.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-16-29_583_html.html">screenshot_2023-12-19-00-16-29.583.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-16-35_224_html.html">screenshot_2023-12-19-00-16-35.224.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-16-35_357_html.html">screenshot_2023-12-19-00-16-35.357.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-22-34_762_html.html">screenshot_2023-12-19-00-22-34.762.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-22-47_635_html.html">screenshot_2023-12-19-00-22-47.635.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-22-47_795_html.html">screenshot_2023-12-19-00-22-47.795.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-32-15_659_html.html">screenshot_2023-12-19-00-32-15.659.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-32-20_644_html.html">screenshot_2023-12-19-00-32-20.644.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-32-20_799_html.html">screenshot_2023-12-19-00-32-20.799.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-34-07_428_html.html">screenshot_2023-12-19-00-34-07.428.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-34-13_244_html.html">screenshot_2023-12-19-00-34-13.244.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-34-13_428_html.html">screenshot_2023-12-19-00-34-13.428.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-39-47_908_html.html">screenshot_2023-12-19-00-39-47.908.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-39-52_844_html.html">screenshot_2023-12-19-00-39-52.844.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-39-53_019_html.html">screenshot_2023-12-19-00-39-53.019.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-46-51_280_html.html">screenshot_2023-12-19-00-46-51.280.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-46-56_180_html.html">screenshot_2023-12-19-00-46-56.180.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-46-56_353_html.html">screenshot_2023-12-19-00-46-56.353.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-47-15_746_html.html">screenshot_2023-12-19-00-47-15.746.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-47-20_715_html.html">screenshot_2023-12-19-00-47-20.715.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-47-20_893_html.html">screenshot_2023-12-19-00-47-20.893.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-50-27_498_html.html">screenshot_2023-12-19-00-50-27.498.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-50-32_475_html.html">screenshot_2023-12-19-00-50-32.475.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-50-32_613_html.html">screenshot_2023-12-19-00-50-32.613.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-52-05_897_html.html">screenshot_2023-12-19-00-52-05.897.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-52-10_779_html.html">screenshot_2023-12-19-00-52-10.779.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-52-10_862_html.html">screenshot_2023-12-19-00-52-10.862.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-53-27_419_html.html">screenshot_2023-12-19-00-53-27.419.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-53-32_320_html.html">screenshot_2023-12-19-00-53-32.320.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-53-32_468_html.html">screenshot_2023-12-19-00-53-32.468.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-56-13_550_html.html">screenshot_2023-12-19-00-56-13.550.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-56-18_502_html.html">screenshot_2023-12-19-00-56-18.502.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-00-56-18_651_html.html">screenshot_2023-12-19-00-56-18.651.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-05-56_697_html.html">screenshot_2023-12-19-01-05-56.697.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-05-59_849_html.html">screenshot_2023-12-19-01-05-59.849.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-07-27_315_html.html">screenshot_2023-12-19-01-07-27.315.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-07-30_465_html.html">screenshot_2023-12-19-01-07-30.465.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-08-06_187_html.html">screenshot_2023-12-19-01-08-06.187.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-08-08_280_html.html">screenshot_2023-12-19-01-08-08.280.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-08-09_328_html.html">screenshot_2023-12-19-01-08-09.328.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-16-05_909_html.html">screenshot_2023-12-19-01-16-05.909.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-16-08_711_html.html">screenshot_2023-12-19-01-16-08.711.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-17-40_582_html.html">screenshot_2023-12-19-01-17-40.582.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-17-43_335_html.html">screenshot_2023-12-19-01-17-43.335.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-18-41_965_html.html">screenshot_2023-12-19-01-18-41.965.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-19-22_495_html.html">screenshot_2023-12-19-01-19-22.495.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-19-42_501_html.html">screenshot_2023-12-19-01-19-42.501.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-20-08_768_html.html">screenshot_2023-12-19-01-20-08.768.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-20-11_528_html.html">screenshot_2023-12-19-01-20-11.528.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-01-20-33_116_html.html">screenshot_2023-12-19-01-20-33.116.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-16-22_847_html.html">screenshot_2023-12-19-02-16-22.847.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-16-22_963_html.html">screenshot_2023-12-19-02-16-22.963.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-16-23_073_html.html">screenshot_2023-12-19-02-16-23.073.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-16-25_829_html.html">screenshot_2023-12-19-02-16-25.829.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-17-12_468_html.html">screenshot_2023-12-19-02-17-12.468.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-17-15_323_html.html">screenshot_2023-12-19-02-17-15.323.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-17-36_931_html.html">screenshot_2023-12-19-02-17-36.931.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-19-13_072_html.html">screenshot_2023-12-19-02-19-13.072.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-19-15_795_html.html">screenshot_2023-12-19-02-19-15.795.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-21-00_665_html.html">screenshot_2023-12-19-02-21-00.665.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-21-03_335_html.html">screenshot_2023-12-19-02-21-03.335.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-21-55_149_html.html">screenshot_2023-12-19-02-21-55.149.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-21-57_866_html.html">screenshot_2023-12-19-02-21-57.866.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-22-40_583_html.html">screenshot_2023-12-19-02-22-40.583.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-36-51_578_html.html">screenshot_2023-12-19-02-36-51.578.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-40-37_860_html.html">screenshot_2023-12-19-02-40-37.860.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-41-16_034_html.html">screenshot_2023-12-19-02-41-16.034.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-41-16_548_html.html">screenshot_2023-12-19-02-41-16.548.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-42-16_357_html.html">screenshot_2023-12-19-02-42-16.357.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-42-16_867_html.html">screenshot_2023-12-19-02-42-16.867.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-42-42_700_html.html">screenshot_2023-12-19-02-42-42.700.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-42-43_332_html.html">screenshot_2023-12-19-02-42-43.332.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-43-03_850_html.html">screenshot_2023-12-19-02-43-03.850.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-43-04_403_html.html">screenshot_2023-12-19-02-43-04.403.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-43-58_858_html.html">screenshot_2023-12-19-02-43-58.858.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-43-59_394_html.html">screenshot_2023-12-19-02-43-59.394.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-52-17_431_html.html">screenshot_2023-12-19-02-52-17.431.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-52-19_807_html.html">screenshot_2023-12-19-02-52-19.807.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-52-20_396_html.html">screenshot_2023-12-19-02-52-20.396.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-52-43_424_html.html">screenshot_2023-12-19-02-52-43.424.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-52-45_693_html.html">screenshot_2023-12-19-02-52-45.693.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-52-46_213_html.html">screenshot_2023-12-19-02-52-46.213.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-54-10_903_html.html">screenshot_2023-12-19-02-54-10.903.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-02-54-11_692_html.html">screenshot_2023-12-19-02-54-11.692.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-03-05-55_560_html.html">screenshot_2023-12-19-03-05-55.560.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-03-05-58_588_html.html">screenshot_2023-12-19-03-05-58.588.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-03-05-58_725_html.html">screenshot_2023-12-19-03-05-58.725.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-03-06-04_203_html.html">screenshot_2023-12-19-03-06-04.203.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-03-06-07_211_html.html">screenshot_2023-12-19-03-06-07.211.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-03-06-07_356_html.html">screenshot_2023-12-19-03-06-07.356.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-03-06-36_569_html.html">screenshot_2023-12-19-03-06-36.569.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-03-06-37_770_html.html">screenshot_2023-12-19-03-06-37.770.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-03-13-48_536_html.html">screenshot_2023-12-19-03-13-48.536.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-03-13-48_619_html.html">screenshot_2023-12-19-03-13-48.619.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-03-14-47_099_html.html">screenshot_2023-12-19-03-14-47.099.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-03-14-48_336_html.html">screenshot_2023-12-19-03-14-48.336.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-03-36-40_388_html.html">screenshot_2023-12-19-03-36-40.388.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-03-37-10_973_html.html">screenshot_2023-12-19-03-37-10.973.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-03-37-12_253_html.html">screenshot_2023-12-19-03-37-12.253.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-03-37-36_342_html.html">screenshot_2023-12-19-03-37-36.342.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-13-55-03_042_html.html">screenshot_2023-12-19-13-55-03.042.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-14-22-31_001_html.html">screenshot_2023-12-19-14-22-31.001.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-14-26-54_662_html.html">screenshot_2023-12-19-14-26-54.662.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-14-28-41_288_html.html">screenshot_2023-12-19-14-28-41.288.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-14-30-11_309_html.html">screenshot_2023-12-19-14-30-11.309.html</a>
      <li><a href="../../../../tmp/capybara/screenshot_2023-12-19-14-31-15_073_html.html">screenshot_2023-12-19-14-31-15.073.html</a>
      <li><a href="../../../../tmp/local_secret_txt.html">local_secret</a>
      <li><a href="../../../../tmp/restart_txt.html">restart</a>
      <li><a href="../../../../tmp/rubycritic/app/channels/application_cable/channel_html.html">channel.html</a>
      <li><a href="../../../../tmp/rubycritic/app/channels/application_cable/connection_html.html">connection.html</a>
      <li><a href="../../../../tmp/rubycritic/app/controllers/application_controller_html.html">application_controller.html</a>
      <li><a href="../../../../tmp/rubycritic/app/controllers/hello_controller_html.html">hello_controller.html</a>
      <li><a href="../../../../tmp/rubycritic/app/controllers/home_controller_html.html">home_controller.html</a>
      <li><a href="../../../../tmp/rubycritic/app/controllers/restricted_controller_html.html">restricted_controller.html</a>
      <li><a href="../../../../tmp/rubycritic/app/helpers/application_helper_html.html">application_helper.html</a>
      <li><a href="../../../../tmp/rubycritic/app/helpers/hello_helper_html.html">hello_helper.html</a>
      <li><a href="../../../../tmp/rubycritic/app/helpers/restricted_helper_html.html">restricted_helper.html</a>
      <li><a href="../../../../tmp/rubycritic/app/jobs/application_job_html.html">application_job.html</a>
      <li><a href="../../../../tmp/rubycritic/app/mailers/application_mailer_html.html">application_mailer.html</a>
      <li><a href="../../../../tmp/rubycritic/app/models/application_record_html.html">application_record.html</a>
      <li><a href="../../../../tmp/rubycritic/app/models/classification_html.html">classification.html</a>
      <li><a href="../../../../tmp/rubycritic/app/models/experiment_html.html">experiment.html</a>
      <li><a href="../../../../tmp/rubycritic/app/models/factor_html.html">factor.html</a>
      <li><a href="../../../../tmp/rubycritic/app/models/tag_html.html">tag.html</a>
      <li><a href="../../../../tmp/rubycritic/app/models/trial_html.html">trial.html</a>
      <li><a href="../../../../tmp/rubycritic/app/models/trial_execution_html.html">trial_execution.html</a>
      <li><a href="../../../../tmp/rubycritic/app/models/trial_factor_html.html">trial_factor.html</a>
      <li><a href="../../../../tmp/rubycritic/app/models/user_html.html">user.html</a>
      <li><a href="../../../../tmp/rubycritic/assets/javascripts/application_js.html">application.js</a>
      <li><a href="../../../../tmp/rubycritic/assets/stylesheets/application_css.html">application.css</a>
      <li><a href="../../../../tmp/rubycritic/assets/vendor/javascripts/bootstrap_min_js.html">bootstrap.min.js</a>
      <li><a href="../../../../tmp/rubycritic/assets/vendor/javascripts/highcharts_src-4_0_1_js.html">highcharts.src-4.0.1.js</a>
      <li><a href="../../../../tmp/rubycritic/assets/vendor/javascripts/jquery_filtertable_min_js.html">jquery.filtertable.min.js</a>
      <li><a href="../../../../tmp/rubycritic/assets/vendor/javascripts/jquery_min_js.html">jquery.min.js</a>
      <li><a href="../../../../tmp/rubycritic/assets/vendor/javascripts/jquery_scrollTo_min_js.html">jquery.scrollTo.min.js</a>
      <li><a href="../../../../tmp/rubycritic/assets/vendor/javascripts/jquery_tablesorter_js.html">jquery.tablesorter.js</a>
      <li><a href="../../../../tmp/rubycritic/assets/vendor/javascripts/jquery_tablesorter_min_js.html">jquery.tablesorter.min.js</a>
      <li><a href="../../../../tmp/rubycritic/assets/vendor/javascripts/jquery_timeago_js.html">jquery.timeago.js</a>
      <li><a href="../../../../tmp/rubycritic/assets/vendor/javascripts/prettify_js.html">prettify.js</a>
      <li><a href="../../../../tmp/rubycritic/assets/vendor/stylesheets/bootstrap_min_css.html">bootstrap.min.css</a>
      <li><a href="../../../../tmp/rubycritic/assets/vendor/stylesheets/font-awesome_min_css.html">font-awesome.min.css</a>
      <li><a href="../../../../tmp/rubycritic/assets/vendor/stylesheets/prettify_css.html">prettify.css</a>
      <li><a href="../../../../tmp/rubycritic/assets/vendor/stylesheets/prettify_custom_theme_css.html">prettify.custom_theme.css</a>
      <li><a href="../../../../tmp/rubycritic/code_index_html.html">code_index.html</a>
      <li><a href="../../../../tmp/rubycritic/config/application_html.html">application.html</a>
      <li><a href="../../../../tmp/rubycritic/config/boot_html.html">boot.html</a>
      <li><a href="../../../../tmp/rubycritic/config/environment_html.html">environment.html</a>
      <li><a href="../../../../tmp/rubycritic/config/environments/development_html.html">development.html</a>
      <li><a href="../../../../tmp/rubycritic/config/environments/production_html.html">production.html</a>
      <li><a href="../../../../tmp/rubycritic/config/environments/test_html.html">test.html</a>
      <li><a href="../../../../tmp/rubycritic/config/initializers/assets_html.html">assets.html</a>
      <li><a href="../../../../tmp/rubycritic/config/initializers/content_security_policy_html.html">content_security_policy.html</a>
      <li><a href="../../../../tmp/rubycritic/config/initializers/devise_html.html">devise.html</a>
      <li><a href="../../../../tmp/rubycritic/config/initializers/filter_parameter_logging_html.html">filter_parameter_logging.html</a>
      <li><a href="../../../../tmp/rubycritic/config/initializers/inflections_html.html">inflections.html</a>
      <li><a href="../../../../tmp/rubycritic/config/initializers/permissions_policy_html.html">permissions_policy.html</a>
      <li><a href="../../../../tmp/rubycritic/config/puma_html.html">puma.html</a>
      <li><a href="../../../../tmp/rubycritic/config/routes_html.html">routes.html</a>
      <li><a href="../../../../tmp/rubycritic/db/migrate/20231113223748_create_users_html.html">20231113223748_create_users.html</a>
      <li><a href="../../../../tmp/rubycritic/db/migrate/20231113223821_create_trials_html.html">20231113223821_create_trials.html</a>
      <li><a href="../../../../tmp/rubycritic/db/migrate/20231113223834_create_factors_html.html">20231113223834_create_factors.html</a>
      <li><a href="../../../../tmp/rubycritic/db/migrate/20231113224122_create_trial_executions_html.html">20231113224122_create_trial_executions.html</a>
      <li><a href="../../../../tmp/rubycritic/db/migrate/20231113224338_create_tags_html.html">20231113224338_create_tags.html</a>
      <li><a href="../../../../tmp/rubycritic/db/migrate/20231113224902_create_classifications_html.html">20231113224902_create_classifications.html</a>
      <li><a href="../../../../tmp/rubycritic/db/migrate/20231113225040_create_trial_factors_html.html">20231113225040_create_trial_factors.html</a>
      <li><a href="../../../../tmp/rubycritic/db/migrate/20231113225719_create_experiments_html.html">20231113225719_create_experiments.html</a>
      <li><a href="../../../../tmp/rubycritic/db/migrate/20231201165241_add_devise_to_users_html.html">20231201165241_add_devise_to_users.html</a>
      <li><a href="../../../../tmp/rubycritic/db/schema_html.html">schema.html</a>
      <li><a href="../../../../tmp/rubycritic/db/seeds_html.html">seeds.html</a>
      <li><a href="../../../../tmp/rubycritic/features/step_definitions/Cadastro_steps_html.html">Cadastro_steps.html</a>
      <li><a href="../../../../tmp/rubycritic/features/step_definitions/Login_steps_html.html">Login_steps.html</a>
      <li><a href="../../../../tmp/rubycritic/features/step_definitions/world_step_html.html">world_step.html</a>
      <li><a href="../../../../tmp/rubycritic/features/support/env_html.html">env.html</a>
      <li><a href="../../../../tmp/rubycritic/overview_html.html">overview.html</a>
      <li><a href="../../../../tmp/rubycritic/simple_cov_index_html.html">simple_cov_index.html</a>
      <li><a href="../../../../tmp/rubycritic/smells_index_html.html">smells_index.html</a>
    </ul></details>
    <li><a href="../../../../yarn_lock.html">yarn.lock</a>
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page node_modules/@hotwired/turbo/dist/turbo.es2017-esm.js">

<p>/* Turbo 7.3.0 Copyright  2023 37signals LLC</p>

<pre>*/</pre>

<p>(function () {</p>

<pre>if (window.Reflect === undefined ||
    window.customElements === undefined ||
    window.customElements.polyfillWrapFlushCallback) {
    return;
}
const BuiltInHTMLElement = HTMLElement;
const wrapperForTheName = {
    HTMLElement: function HTMLElement() {
        return Reflect.construct(BuiltInHTMLElement, [], this.constructor);
    },
};
window.HTMLElement = wrapperForTheName[&quot;HTMLElement&quot;];
HTMLElement.prototype = BuiltInHTMLElement.prototype;
HTMLElement.prototype.constructor = HTMLElement;
Object.setPrototypeOf(HTMLElement, BuiltInHTMLElement);</pre>

<p>})();</p>

<p>/**</p>

<pre>* The MIT License (MIT)
* 
* Copyright (c) 2019 Javan Makhmali
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy
* of this software and associated documentation files (the &quot;Software&quot;), to deal
* in the Software without restriction, including without limitation the rights
* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the Software is
* furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in
* all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
* THE SOFTWARE.
*/</pre>

<p>(function(prototype) {</p>

<pre>if (typeof prototype.requestSubmit == &quot;function&quot;) return

prototype.requestSubmit = function(submitter) {
  if (submitter) {
    validateSubmitter(submitter, this);
    submitter.click();
  } else {
    submitter = document.createElement(&quot;input&quot;);
    submitter.type = &quot;submit&quot;;
    submitter.hidden = true;
    this.appendChild(submitter);
    submitter.click();
    this.removeChild(submitter);
  }
};

function validateSubmitter(submitter, form) {
  submitter instanceof HTMLElement || raise(TypeError, &quot;parameter 1 is not of type &#39;HTMLElement&#39;&quot;);
  submitter.type == &quot;submit&quot; || raise(TypeError, &quot;The specified element is not a submit button&quot;);
  submitter.form == form || raise(DOMException, &quot;The specified element is not owned by this form element&quot;, &quot;NotFoundError&quot;);
}

function raise(errorConstructor, message, name) {
  throw new errorConstructor(&quot;Failed to execute &#39;requestSubmit&#39; on &#39;HTMLFormElement&#39;: &quot; + message + &quot;.&quot;, name)
}</pre>

<p>})(HTMLFormElement.prototype);</p>

<p>const submittersByForm = new WeakMap(); function findSubmitterFromClickTarget(target) {</p>

<pre>const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;
const candidate = element ? element.closest(&quot;input, button&quot;) : null;
return (candidate === null || candidate === void 0 ? void 0 : candidate.type) == &quot;submit&quot; ? candidate : null;</pre>

<p>} function clickCaptured(event) {</p>

<pre>const submitter = findSubmitterFromClickTarget(event.target);
if (submitter &amp;&amp; submitter.form) {
    submittersByForm.set(submitter.form, submitter);
}</pre>

<p>} (function () {</p>

<pre>if (&quot;submitter&quot; in Event.prototype)
    return;
let prototype = window.Event.prototype;
if (&quot;SubmitEvent&quot; in window &amp;&amp; /Apple Computer/.test(navigator.vendor)) {
    prototype = window.SubmitEvent.prototype;
}
else if (&quot;SubmitEvent&quot; in window) {
    return;
}
addEventListener(&quot;click&quot;, clickCaptured, true);
Object.defineProperty(prototype, &quot;submitter&quot;, {
    get() {
        if (this.type == &quot;submit&quot; &amp;&amp; this.target instanceof HTMLFormElement) {
            return submittersByForm.get(this.target);
        }
    },
});</pre>

<p>})();</p>

<p>var FrameLoadingStyle; (function (FrameLoadingStyle) {</p>

<pre class="ruby"><span class="ruby-constant">FrameLoadingStyle</span>[<span class="ruby-string">&quot;eager&quot;</span>] = <span class="ruby-string">&quot;eager&quot;</span>;
<span class="ruby-constant">FrameLoadingStyle</span>[<span class="ruby-string">&quot;lazy&quot;</span>] = <span class="ruby-string">&quot;lazy&quot;</span>;
</pre>

<p>})(FrameLoadingStyle || (FrameLoadingStyle = {})); class FrameElement extends HTMLElement {</p>

<pre>static get observedAttributes() {
    return [&quot;disabled&quot;, &quot;complete&quot;, &quot;loading&quot;, &quot;src&quot;];
}
constructor() {
    super();
    this.loaded = Promise.resolve();
    this.delegate = new FrameElement.delegateConstructor(this);
}
connectedCallback() {
    this.delegate.connect();
}
disconnectedCallback() {
    this.delegate.disconnect();
}
reload() {
    return this.delegate.sourceURLReloaded();
}
attributeChangedCallback(name) {
    if (name == &quot;loading&quot;) {
        this.delegate.loadingStyleChanged();
    }
    else if (name == &quot;complete&quot;) {
        this.delegate.completeChanged();
    }
    else if (name == &quot;src&quot;) {
        this.delegate.sourceURLChanged();
    }
    else {
        this.delegate.disabledChanged();
    }
}
get src() {
    return this.getAttribute(&quot;src&quot;);
}
set src(value) {
    if (value) {
        this.setAttribute(&quot;src&quot;, value);
    }
    else {
        this.removeAttribute(&quot;src&quot;);
    }
}
get loading() {
    return frameLoadingStyleFromString(this.getAttribute(&quot;loading&quot;) || &quot;&quot;);
}
set loading(value) {
    if (value) {
        this.setAttribute(&quot;loading&quot;, value);
    }
    else {
        this.removeAttribute(&quot;loading&quot;);
    }
}
get disabled() {
    return this.hasAttribute(&quot;disabled&quot;);
}
set disabled(value) {
    if (value) {
        this.setAttribute(&quot;disabled&quot;, &quot;&quot;);
    }
    else {
        this.removeAttribute(&quot;disabled&quot;);
    }
}
get autoscroll() {
    return this.hasAttribute(&quot;autoscroll&quot;);
}
set autoscroll(value) {
    if (value) {
        this.setAttribute(&quot;autoscroll&quot;, &quot;&quot;);
    }
    else {
        this.removeAttribute(&quot;autoscroll&quot;);
    }
}
get complete() {
    return !this.delegate.isLoading;
}
get isActive() {
    return this.ownerDocument === document &amp;&amp; !this.isPreview;
}
get isPreview() {
    var _a, _b;
    return (_b = (_a = this.ownerDocument) === null || _a === void 0 ? void 0 : _a.documentElement) === null || _b === void 0 ? void 0 : _b.hasAttribute(&quot;data-turbo-preview&quot;);
}</pre>

<p>} function frameLoadingStyleFromString(style) {</p>

<pre>switch (style.toLowerCase()) {
    case &quot;lazy&quot;:
        return FrameLoadingStyle.lazy;
    default:
        return FrameLoadingStyle.eager;
}</pre>

<p>}</p>

<p>function expandURL(locatable) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">new</span> <span class="ruby-constant">URL</span>(<span class="ruby-identifier">locatable</span>.<span class="ruby-identifier">toString</span>(), <span class="ruby-identifier">document</span>.<span class="ruby-identifier">baseURI</span>);
</pre>

<p>} function getAnchor(url) {</p>

<pre>let anchorMatch;
if (url.hash) {
    return url.hash.slice(1);
}
else if ((anchorMatch = url.href.match(/#(.*)$/))) {
    return anchorMatch[1];
}</pre>

<p>} function getAction(form, submitter) {</p>

<pre>const action = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(&quot;formaction&quot;)) || form.getAttribute(&quot;action&quot;) || form.action;
return expandURL(action);</pre>

<p>} function getExtension(url) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> (<span class="ruby-identifier">getLastPathComponent</span>(<span class="ruby-identifier">url</span>).<span class="ruby-identifier">match</span>(<span class="ruby-regexp">/\.[^.]*$/</span>) <span class="ruby-operator">||</span> [])[<span class="ruby-value">0</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>;
</pre>

<p>} function isHTML(url) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-identifier">getExtension</span>(<span class="ruby-identifier">url</span>).<span class="ruby-identifier">match</span>(<span class="ruby-regexp">/^(?:|\.(?:htm|html|xhtml|php))$/</span>);
</pre>

<p>} function isPrefixedBy(baseURL, url) {</p>

<pre class="ruby"><span class="ruby-identifier">const</span> <span class="ruby-identifier">prefix</span> = <span class="ruby-identifier">getPrefix</span>(<span class="ruby-identifier">url</span>);
<span class="ruby-keyword">return</span> <span class="ruby-identifier">baseURL</span>.<span class="ruby-identifier">href</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">expandURL</span>(<span class="ruby-identifier">prefix</span>).<span class="ruby-identifier">href</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">baseURL</span>.<span class="ruby-identifier">href</span>.<span class="ruby-identifier">startsWith</span>(<span class="ruby-identifier">prefix</span>);
</pre>

<p>} function locationIsVisitable(location, rootLocation) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">isPrefixedBy</span>(<span class="ruby-identifier">location</span>, <span class="ruby-identifier">rootLocation</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">isHTML</span>(<span class="ruby-identifier">location</span>);
</pre>

<p>} function getRequestURL(url) {</p>

<pre class="ruby"><span class="ruby-identifier">const</span> <span class="ruby-identifier">anchor</span> = <span class="ruby-identifier">getAnchor</span>(<span class="ruby-identifier">url</span>);
<span class="ruby-keyword">return</span> <span class="ruby-identifier">anchor</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">null</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">href</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>, <span class="ruby-operator">-</span>(<span class="ruby-identifier">anchor</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)) <span class="ruby-operator">:</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">href</span>;
</pre>

<p>} function toCacheKey(url) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">getRequestURL</span>(<span class="ruby-identifier">url</span>);
</pre>

<p>} function urlsAreEqual(left, right) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">expandURL</span>(<span class="ruby-identifier">left</span>).<span class="ruby-identifier">href</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">expandURL</span>(<span class="ruby-identifier">right</span>).<span class="ruby-identifier">href</span>;
</pre>

<p>} function getPathComponents(url) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">pathname</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;/&quot;</span>).<span class="ruby-identifier">slice</span>(<span class="ruby-value">1</span>);
</pre>

<p>} function getLastPathComponent(url) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">getPathComponents</span>(<span class="ruby-identifier">url</span>).<span class="ruby-identifier">slice</span>(<span class="ruby-value">-1</span>)[<span class="ruby-value">0</span>];
</pre>

<p>} function getPrefix(url) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">addTrailingSlash</span>(<span class="ruby-identifier">url</span>.<span class="ruby-identifier">origin</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">pathname</span>);
</pre>

<p>} function addTrailingSlash(value) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">endsWith</span>(<span class="ruby-string">&quot;/&quot;</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;/&quot;</span>;
</pre>

<p>}</p>

<p>class FetchResponse {</p>

<pre>constructor(response) {
    this.response = response;
}
get succeeded() {
    return this.response.ok;
}
get failed() {
    return !this.succeeded;
}
get clientError() {
    return this.statusCode &gt;= 400 &amp;&amp; this.statusCode &lt;= 499;
}
get serverError() {
    return this.statusCode &gt;= 500 &amp;&amp; this.statusCode &lt;= 599;
}
get redirected() {
    return this.response.redirected;
}
get location() {
    return expandURL(this.response.url);
}
get isHTML() {
    return this.contentType &amp;&amp; this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/);
}
get statusCode() {
    return this.response.status;
}
get contentType() {
    return this.header(&quot;Content-Type&quot;);
}
get responseText() {
    return this.response.clone().text();
}
get responseHTML() {
    if (this.isHTML) {
        return this.response.clone().text();
    }
    else {
        return Promise.resolve(undefined);
    }
}
header(name) {
    return this.response.headers.get(name);
}</pre>

<p>}</p>

<p>function activateScriptElement(element) {</p>

<pre>if (element.getAttribute(&quot;data-turbo-eval&quot;) == &quot;false&quot;) {
    return element;
}
else {
    const createdScriptElement = document.createElement(&quot;script&quot;);
    const cspNonce = getMetaContent(&quot;csp-nonce&quot;);
    if (cspNonce) {
        createdScriptElement.nonce = cspNonce;
    }
    createdScriptElement.textContent = element.textContent;
    createdScriptElement.async = false;
    copyElementAttributes(createdScriptElement, element);
    return createdScriptElement;
}</pre>

<p>} function copyElementAttributes(destinationElement, sourceElement) {</p>

<pre>for (const { name, value } of sourceElement.attributes) {
    destinationElement.setAttribute(name, value);
}</pre>

<p>} function createDocumentFragment(html) {</p>

<pre class="ruby"><span class="ruby-identifier">const</span> <span class="ruby-identifier">template</span> = <span class="ruby-identifier">document</span>.<span class="ruby-identifier">createElement</span>(<span class="ruby-string">&quot;template&quot;</span>);
<span class="ruby-identifier">template</span>.<span class="ruby-identifier">innerHTML</span> = <span class="ruby-identifier">html</span>;
<span class="ruby-keyword">return</span> <span class="ruby-identifier">template</span>.<span class="ruby-identifier">content</span>;
</pre>

<p>} function dispatch(eventName, { target, cancelable, detail } = {}) {</p>

<pre>const event = new CustomEvent(eventName, {
    cancelable,
    bubbles: true,
    composed: true,
    detail,
});
if (target &amp;&amp; target.isConnected) {
    target.dispatchEvent(event);
}
else {
    document.documentElement.dispatchEvent(event);
}
return event;</pre>

<p>} function nextAnimationFrame() {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">new</span> <span class="ruby-constant">Promise</span>((<span class="ruby-identifier">resolve</span>) <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">requestAnimationFrame</span>(() <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">resolve</span>()));
</pre>

<p>} function nextEventLoopTick() {</p>

<pre>return new Promise((resolve) =&gt; setTimeout(() =&gt; resolve(), 0));</pre>

<p>} function nextMicrotask() {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-constant">Promise</span>.<span class="ruby-identifier">resolve</span>();
</pre>

<p>} function parseHTMLDocument(html = ) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">new</span> <span class="ruby-constant">DOMParser</span>().<span class="ruby-identifier">parseFromString</span>(<span class="ruby-identifier">html</span>, <span class="ruby-string">&quot;text/html&quot;</span>);
</pre>

<p>} function unindent(strings, values) {</p>

<pre class="ruby"><span class="ruby-identifier">const</span> <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">interpolate</span>(<span class="ruby-identifier">strings</span>, <span class="ruby-identifier">values</span>).<span class="ruby-identifier">replace</span>(<span class="ruby-regexp">/^\n/</span>, <span class="ruby-string">&quot;&quot;</span>).<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;\n&quot;</span>);
<span class="ruby-identifier">const</span> <span class="ruby-identifier">match</span> = <span class="ruby-identifier">lines</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">match</span>(<span class="ruby-regexp">/^\s+/</span>);
<span class="ruby-identifier">const</span> <span class="ruby-identifier">indent</span> = <span class="ruby-identifier">match</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">match</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">length</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>;
<span class="ruby-keyword">return</span> <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">map</span>((<span class="ruby-identifier">line</span>) <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-identifier">indent</span>)).<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>);
</pre>

<p>} function interpolate(strings, values) {</p>

<pre>return strings.reduce((result, string, i) =&gt; {
    const value = values[i] == undefined ? &quot;&quot; : values[i];
    return result + string + value;
}, &quot;&quot;);</pre>

<p>} function uuid() {</p>

<pre>return Array.from({ length: 36 })
    .map((_, i) =&gt; {
    if (i == 8 || i == 13 || i == 18 || i == 23) {
        return &quot;-&quot;;
    }
    else if (i == 14) {
        return &quot;4&quot;;
    }
    else if (i == 19) {
        return (Math.floor(Math.random() * 4) + 8).toString(16);
    }
    else {
        return Math.floor(Math.random() * 15).toString(16);
    }
})
    .join(&quot;&quot;);</pre>

<p>} function getAttribute(attributeName, elements) {</p>

<pre>for (const value of elements.map((element) =&gt; element === null || element === void 0 ? void 0 : element.getAttribute(attributeName))) {
    if (typeof value == &quot;string&quot;)
        return value;
}
return null;</pre>

<p>} function hasAttribute(attributeName, elements) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">elements</span>.<span class="ruby-identifier">some</span>((<span class="ruby-identifier">element</span>) <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">element</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">hasAttribute</span>(<span class="ruby-identifier">attributeName</span>));
</pre>

<p>} function markAsBusy(elements) {</p>

<pre>for (const element of elements) {
    if (element.localName == &quot;turbo-frame&quot;) {
        element.setAttribute(&quot;busy&quot;, &quot;&quot;);
    }
    element.setAttribute(&quot;aria-busy&quot;, &quot;true&quot;);
}</pre>

<p>} function clearBusyState(elements) {</p>

<pre>for (const element of elements) {
    if (element.localName == &quot;turbo-frame&quot;) {
        element.removeAttribute(&quot;busy&quot;);
    }
    element.removeAttribute(&quot;aria-busy&quot;);
}</pre>

<p>} function waitForLoad(element, timeoutInMilliseconds = 2000) {</p>

<pre>return new Promise((resolve) =&gt; {
    const onComplete = () =&gt; {
        element.removeEventListener(&quot;error&quot;, onComplete);
        element.removeEventListener(&quot;load&quot;, onComplete);
        resolve();
    };
    element.addEventListener(&quot;load&quot;, onComplete, { once: true });
    element.addEventListener(&quot;error&quot;, onComplete, { once: true });
    setTimeout(resolve, timeoutInMilliseconds);
});</pre>

<p>} function getHistoryMethodForAction(action) {</p>

<pre>switch (action) {
    case &quot;replace&quot;:
        return history.replaceState;
    case &quot;advance&quot;:
    case &quot;restore&quot;:
        return history.pushState;
}</pre>

<p>} function isAction(action) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">action</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;advance&quot;</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">action</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;replace&quot;</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">action</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;restore&quot;</span>;
</pre>

<p>} function getVisitAction(elements) {</p>

<pre class="ruby"><span class="ruby-identifier">const</span> <span class="ruby-identifier">action</span> = <span class="ruby-identifier">getAttribute</span>(<span class="ruby-string">&quot;data-turbo-action&quot;</span>, <span class="ruby-operator">...</span><span class="ruby-identifier">elements</span>);
<span class="ruby-keyword">return</span> <span class="ruby-identifier">isAction</span>(<span class="ruby-identifier">action</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">action</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">null</span>;
</pre>

<p>} function getMetaElement(name) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">document</span>.<span class="ruby-identifier">querySelector</span>(<span class="ruby-string">`meta[name=&quot;${name}&quot;]`</span>);
</pre>

<p>} function getMetaContent(name) {</p>

<pre class="ruby"><span class="ruby-identifier">const</span> <span class="ruby-identifier">element</span> = <span class="ruby-identifier">getMetaElement</span>(<span class="ruby-identifier">name</span>);
<span class="ruby-keyword">return</span> <span class="ruby-identifier">element</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">content</span>;
</pre>

<p>} function setMetaContent(name, content) {</p>

<pre>let element = getMetaElement(name);
if (!element) {
    element = document.createElement(&quot;meta&quot;);
    element.setAttribute(&quot;name&quot;, name);
    document.head.appendChild(element);
}
element.setAttribute(&quot;content&quot;, content);
return element;</pre>

<p>} function findClosestRecursively(element, selector) {</p>

<pre>var _a;
if (element instanceof Element) {
    return (element.closest(selector) ||
        findClosestRecursively(element.assignedSlot || ((_a = element.getRootNode()) === null || _a === void 0 ? void 0 : _a.host), selector));
}</pre>

<p>}</p>

<p>var FetchMethod; (function (FetchMethod) {</p>

<pre class="ruby"><span class="ruby-constant">FetchMethod</span>[<span class="ruby-constant">FetchMethod</span>[<span class="ruby-string">&quot;get&quot;</span>] = <span class="ruby-value">0</span>] = <span class="ruby-string">&quot;get&quot;</span>;
<span class="ruby-constant">FetchMethod</span>[<span class="ruby-constant">FetchMethod</span>[<span class="ruby-string">&quot;post&quot;</span>] = <span class="ruby-value">1</span>] = <span class="ruby-string">&quot;post&quot;</span>;
<span class="ruby-constant">FetchMethod</span>[<span class="ruby-constant">FetchMethod</span>[<span class="ruby-string">&quot;put&quot;</span>] = <span class="ruby-value">2</span>] = <span class="ruby-string">&quot;put&quot;</span>;
<span class="ruby-constant">FetchMethod</span>[<span class="ruby-constant">FetchMethod</span>[<span class="ruby-string">&quot;patch&quot;</span>] = <span class="ruby-value">3</span>] = <span class="ruby-string">&quot;patch&quot;</span>;
<span class="ruby-constant">FetchMethod</span>[<span class="ruby-constant">FetchMethod</span>[<span class="ruby-string">&quot;delete&quot;</span>] = <span class="ruby-value">4</span>] = <span class="ruby-string">&quot;delete&quot;</span>;
</pre>

<p>})(FetchMethod || (FetchMethod = {})); function fetchMethodFromString(method) {</p>

<pre>switch (method.toLowerCase()) {
    case &quot;get&quot;:
        return FetchMethod.get;
    case &quot;post&quot;:
        return FetchMethod.post;
    case &quot;put&quot;:
        return FetchMethod.put;
    case &quot;patch&quot;:
        return FetchMethod.patch;
    case &quot;delete&quot;:
        return FetchMethod.delete;
}</pre>

<p>} class FetchRequest {</p>

<pre>constructor(delegate, method, location, body = new URLSearchParams(), target = null) {
    this.abortController = new AbortController();
    this.resolveRequestPromise = (_value) =&gt; { };
    this.delegate = delegate;
    this.method = method;
    this.headers = this.defaultHeaders;
    this.body = body;
    this.url = location;
    this.target = target;
}
get location() {
    return this.url;
}
get params() {
    return this.url.searchParams;
}
get entries() {
    return this.body ? Array.from(this.body.entries()) : [];
}
cancel() {
    this.abortController.abort();
}
async perform() {
    const { fetchOptions } = this;
    this.delegate.prepareRequest(this);
    await this.allowRequestToBeIntercepted(fetchOptions);
    try {
        this.delegate.requestStarted(this);
        const response = await fetch(this.url.href, fetchOptions);
        return await this.receive(response);
    }
    catch (error) {
        if (error.name !== &quot;AbortError&quot;) {
            if (this.willDelegateErrorHandling(error)) {
                this.delegate.requestErrored(this, error);
            }
            throw error;
        }
    }
    finally {
        this.delegate.requestFinished(this);
    }
}
async receive(response) {
    const fetchResponse = new FetchResponse(response);
    const event = dispatch(&quot;turbo:before-fetch-response&quot;, {
        cancelable: true,
        detail: { fetchResponse },
        target: this.target,
    });
    if (event.defaultPrevented) {
        this.delegate.requestPreventedHandlingResponse(this, fetchResponse);
    }
    else if (fetchResponse.succeeded) {
        this.delegate.requestSucceededWithResponse(this, fetchResponse);
    }
    else {
        this.delegate.requestFailedWithResponse(this, fetchResponse);
    }
    return fetchResponse;
}
get fetchOptions() {
    var _a;
    return {
        method: FetchMethod[this.method].toUpperCase(),
        credentials: &quot;same-origin&quot;,
        headers: this.headers,
        redirect: &quot;follow&quot;,
        body: this.isSafe ? null : this.body,
        signal: this.abortSignal,
        referrer: (_a = this.delegate.referrer) === null || _a === void 0 ? void 0 : _a.href,
    };
}
get defaultHeaders() {
    return {
        Accept: &quot;text/html, application/xhtml+xml&quot;,
    };
}
get isSafe() {
    return this.method === FetchMethod.get;
}
get abortSignal() {
    return this.abortController.signal;
}
acceptResponseType(mimeType) {
    this.headers[&quot;Accept&quot;] = [mimeType, this.headers[&quot;Accept&quot;]].join(&quot;, &quot;);
}
async allowRequestToBeIntercepted(fetchOptions) {
    const requestInterception = new Promise((resolve) =&gt; (this.resolveRequestPromise = resolve));
    const event = dispatch(&quot;turbo:before-fetch-request&quot;, {
        cancelable: true,
        detail: {
            fetchOptions,
            url: this.url,
            resume: this.resolveRequestPromise,
        },
        target: this.target,
    });
    if (event.defaultPrevented)
        await requestInterception;
}
willDelegateErrorHandling(error) {
    const event = dispatch(&quot;turbo:fetch-request-error&quot;, {
        target: this.target,
        cancelable: true,
        detail: { request: this, error: error },
    });
    return !event.defaultPrevented;
}</pre>

<p>}</p>

<p>class AppearanceObserver {</p>

<pre>constructor(delegate, element) {
    this.started = false;
    this.intersect = (entries) =&gt; {
        const lastEntry = entries.slice(-1)[0];
        if (lastEntry === null || lastEntry === void 0 ? void 0 : lastEntry.isIntersecting) {
            this.delegate.elementAppearedInViewport(this.element);
        }
    };
    this.delegate = delegate;
    this.element = element;
    this.intersectionObserver = new IntersectionObserver(this.intersect);
}
start() {
    if (!this.started) {
        this.started = true;
        this.intersectionObserver.observe(this.element);
    }
}
stop() {
    if (this.started) {
        this.started = false;
        this.intersectionObserver.unobserve(this.element);
    }
}</pre>

<p>}</p>

<p>class StreamMessage {</p>

<pre>static wrap(message) {
    if (typeof message == &quot;string&quot;) {
        return new this(createDocumentFragment(message));
    }
    else {
        return message;
    }
}
constructor(fragment) {
    this.fragment = importStreamElements(fragment);
}</pre>

<p>} StreamMessage.contentType = text/vnd.turbo-stream.html; function importStreamElements(fragment) {</p>

<pre>for (const element of fragment.querySelectorAll(&quot;turbo-stream&quot;)) {
    const streamElement = document.importNode(element, true);
    for (const inertScriptElement of streamElement.templateElement.content.querySelectorAll(&quot;script&quot;)) {
        inertScriptElement.replaceWith(activateScriptElement(inertScriptElement));
    }
    element.replaceWith(streamElement);
}
return fragment;</pre>

<p>}</p>

<p>var FormSubmissionState; (function (FormSubmissionState) {</p>

<pre class="ruby"><span class="ruby-constant">FormSubmissionState</span>[<span class="ruby-constant">FormSubmissionState</span>[<span class="ruby-string">&quot;initialized&quot;</span>] = <span class="ruby-value">0</span>] = <span class="ruby-string">&quot;initialized&quot;</span>;
<span class="ruby-constant">FormSubmissionState</span>[<span class="ruby-constant">FormSubmissionState</span>[<span class="ruby-string">&quot;requesting&quot;</span>] = <span class="ruby-value">1</span>] = <span class="ruby-string">&quot;requesting&quot;</span>;
<span class="ruby-constant">FormSubmissionState</span>[<span class="ruby-constant">FormSubmissionState</span>[<span class="ruby-string">&quot;waiting&quot;</span>] = <span class="ruby-value">2</span>] = <span class="ruby-string">&quot;waiting&quot;</span>;
<span class="ruby-constant">FormSubmissionState</span>[<span class="ruby-constant">FormSubmissionState</span>[<span class="ruby-string">&quot;receiving&quot;</span>] = <span class="ruby-value">3</span>] = <span class="ruby-string">&quot;receiving&quot;</span>;
<span class="ruby-constant">FormSubmissionState</span>[<span class="ruby-constant">FormSubmissionState</span>[<span class="ruby-string">&quot;stopping&quot;</span>] = <span class="ruby-value">4</span>] = <span class="ruby-string">&quot;stopping&quot;</span>;
<span class="ruby-constant">FormSubmissionState</span>[<span class="ruby-constant">FormSubmissionState</span>[<span class="ruby-string">&quot;stopped&quot;</span>] = <span class="ruby-value">5</span>] = <span class="ruby-string">&quot;stopped&quot;</span>;
</pre>

<p>})(FormSubmissionState || (FormSubmissionState = {})); var FormEnctype; (function (FormEnctype) {</p>

<pre class="ruby"><span class="ruby-constant">FormEnctype</span>[<span class="ruby-string">&quot;urlEncoded&quot;</span>] = <span class="ruby-string">&quot;application/x-www-form-urlencoded&quot;</span>;
<span class="ruby-constant">FormEnctype</span>[<span class="ruby-string">&quot;multipart&quot;</span>] = <span class="ruby-string">&quot;multipart/form-data&quot;</span>;
<span class="ruby-constant">FormEnctype</span>[<span class="ruby-string">&quot;plain&quot;</span>] = <span class="ruby-string">&quot;text/plain&quot;</span>;
</pre>

<p>})(FormEnctype || (FormEnctype = {})); function formEnctypeFromString(encoding) {</p>

<pre>switch (encoding.toLowerCase()) {
    case FormEnctype.multipart:
        return FormEnctype.multipart;
    case FormEnctype.plain:
        return FormEnctype.plain;
    default:
        return FormEnctype.urlEncoded;
}</pre>

<p>} class FormSubmission {</p>

<pre>static confirmMethod(message, _element, _submitter) {
    return Promise.resolve(confirm(message));
}
constructor(delegate, formElement, submitter, mustRedirect = false) {
    this.state = FormSubmissionState.initialized;
    this.delegate = delegate;
    this.formElement = formElement;
    this.submitter = submitter;
    this.formData = buildFormData(formElement, submitter);
    this.location = expandURL(this.action);
    if (this.method == FetchMethod.get) {
        mergeFormDataEntries(this.location, [...this.body.entries()]);
    }
    this.fetchRequest = new FetchRequest(this, this.method, this.location, this.body, this.formElement);
    this.mustRedirect = mustRedirect;
}
get method() {
    var _a;
    const method = ((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(&quot;formmethod&quot;)) || this.formElement.getAttribute(&quot;method&quot;) || &quot;&quot;;
    return fetchMethodFromString(method.toLowerCase()) || FetchMethod.get;
}
get action() {
    var _a;
    const formElementAction = typeof this.formElement.action === &quot;string&quot; ? this.formElement.action : null;
    if ((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.hasAttribute(&quot;formaction&quot;)) {
        return this.submitter.getAttribute(&quot;formaction&quot;) || &quot;&quot;;
    }
    else {
        return this.formElement.getAttribute(&quot;action&quot;) || formElementAction || &quot;&quot;;
    }
}
get body() {
    if (this.enctype == FormEnctype.urlEncoded || this.method == FetchMethod.get) {
        return new URLSearchParams(this.stringFormData);
    }
    else {
        return this.formData;
    }
}
get enctype() {
    var _a;
    return formEnctypeFromString(((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(&quot;formenctype&quot;)) || this.formElement.enctype);
}
get isSafe() {
    return this.fetchRequest.isSafe;
}
get stringFormData() {
    return [...this.formData].reduce((entries, [name, value]) =&gt; {
        return entries.concat(typeof value == &quot;string&quot; ? [[name, value]] : []);
    }, []);
}
async start() {
    const { initialized, requesting } = FormSubmissionState;
    const confirmationMessage = getAttribute(&quot;data-turbo-confirm&quot;, this.submitter, this.formElement);
    if (typeof confirmationMessage === &quot;string&quot;) {
        const answer = await FormSubmission.confirmMethod(confirmationMessage, this.formElement, this.submitter);
        if (!answer) {
            return;
        }
    }
    if (this.state == initialized) {
        this.state = requesting;
        return this.fetchRequest.perform();
    }
}
stop() {
    const { stopping, stopped } = FormSubmissionState;
    if (this.state != stopping &amp;&amp; this.state != stopped) {
        this.state = stopping;
        this.fetchRequest.cancel();
        return true;
    }
}
prepareRequest(request) {
    if (!request.isSafe) {
        const token = getCookieValue(getMetaContent(&quot;csrf-param&quot;)) || getMetaContent(&quot;csrf-token&quot;);
        if (token) {
            request.headers[&quot;X-CSRF-Token&quot;] = token;
        }
    }
    if (this.requestAcceptsTurboStreamResponse(request)) {
        request.acceptResponseType(StreamMessage.contentType);
    }
}
requestStarted(_request) {
    var _a;
    this.state = FormSubmissionState.waiting;
    (_a = this.submitter) === null || _a === void 0 ? void 0 : _a.setAttribute(&quot;disabled&quot;, &quot;&quot;);
    this.setSubmitsWith();
    dispatch(&quot;turbo:submit-start&quot;, {
        target: this.formElement,
        detail: { formSubmission: this },
    });
    this.delegate.formSubmissionStarted(this);
}
requestPreventedHandlingResponse(request, response) {
    this.result = { success: response.succeeded, fetchResponse: response };
}
requestSucceededWithResponse(request, response) {
    if (response.clientError || response.serverError) {
        this.delegate.formSubmissionFailedWithResponse(this, response);
    }
    else if (this.requestMustRedirect(request) &amp;&amp; responseSucceededWithoutRedirect(response)) {
        const error = new Error(&quot;Form responses must redirect to another location&quot;);
        this.delegate.formSubmissionErrored(this, error);
    }
    else {
        this.state = FormSubmissionState.receiving;
        this.result = { success: true, fetchResponse: response };
        this.delegate.formSubmissionSucceededWithResponse(this, response);
    }
}
requestFailedWithResponse(request, response) {
    this.result = { success: false, fetchResponse: response };
    this.delegate.formSubmissionFailedWithResponse(this, response);
}
requestErrored(request, error) {
    this.result = { success: false, error };
    this.delegate.formSubmissionErrored(this, error);
}
requestFinished(_request) {
    var _a;
    this.state = FormSubmissionState.stopped;
    (_a = this.submitter) === null || _a === void 0 ? void 0 : _a.removeAttribute(&quot;disabled&quot;);
    this.resetSubmitterText();
    dispatch(&quot;turbo:submit-end&quot;, {
        target: this.formElement,
        detail: Object.assign({ formSubmission: this }, this.result),
    });
    this.delegate.formSubmissionFinished(this);
}
setSubmitsWith() {
    if (!this.submitter || !this.submitsWith)
        return;
    if (this.submitter.matches(&quot;button&quot;)) {
        this.originalSubmitText = this.submitter.innerHTML;
        this.submitter.innerHTML = this.submitsWith;
    }
    else if (this.submitter.matches(&quot;input&quot;)) {
        const input = this.submitter;
        this.originalSubmitText = input.value;
        input.value = this.submitsWith;
    }
}
resetSubmitterText() {
    if (!this.submitter || !this.originalSubmitText)
        return;
    if (this.submitter.matches(&quot;button&quot;)) {
        this.submitter.innerHTML = this.originalSubmitText;
    }
    else if (this.submitter.matches(&quot;input&quot;)) {
        const input = this.submitter;
        input.value = this.originalSubmitText;
    }
}
requestMustRedirect(request) {
    return !request.isSafe &amp;&amp; this.mustRedirect;
}
requestAcceptsTurboStreamResponse(request) {
    return !request.isSafe || hasAttribute(&quot;data-turbo-stream&quot;, this.submitter, this.formElement);
}
get submitsWith() {
    var _a;
    return (_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(&quot;data-turbo-submits-with&quot;);
}</pre>

<p>} function buildFormData(formElement, submitter) {</p>

<pre>const formData = new FormData(formElement);
const name = submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(&quot;name&quot;);
const value = submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(&quot;value&quot;);
if (name) {
    formData.append(name, value || &quot;&quot;);
}
return formData;</pre>

<p>} function getCookieValue(cookieName) {</p>

<pre>if (cookieName != null) {
    const cookies = document.cookie ? document.cookie.split(&quot;; &quot;) : [];
    const cookie = cookies.find((cookie) =&gt; cookie.startsWith(cookieName));
    if (cookie) {
        const value = cookie.split(&quot;=&quot;).slice(1).join(&quot;=&quot;);
        return value ? decodeURIComponent(value) : undefined;
    }
}</pre>

<p>} function responseSucceededWithoutRedirect(response) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">statusCode</span> <span class="ruby-operator">==</span> <span class="ruby-value">200</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">response</span>.<span class="ruby-identifier">redirected</span>;
</pre>

<p>} function mergeFormDataEntries(url, entries) {</p>

<pre>const searchParams = new URLSearchParams();
for (const [name, value] of entries) {
    if (value instanceof File)
        continue;
    searchParams.append(name, value);
}
url.search = searchParams.toString();
return url;</pre>

<p>}</p>

<p>class Snapshot {</p>

<pre>constructor(element) {
    this.element = element;
}
get activeElement() {
    return this.element.ownerDocument.activeElement;
}
get children() {
    return [...this.element.children];
}
hasAnchor(anchor) {
    return this.getElementForAnchor(anchor) != null;
}
getElementForAnchor(anchor) {
    return anchor ? this.element.querySelector(`[id=&#39;${anchor}&#39;], a[name=&#39;${anchor}&#39;]`) : null;
}
get isConnected() {
    return this.element.isConnected;
}
get firstAutofocusableElement() {
    const inertDisabledOrHidden = &quot;[inert], :disabled, [hidden], details:not([open]), dialog:not([open])&quot;;
    for (const element of this.element.querySelectorAll(&quot;[autofocus]&quot;)) {
        if (element.closest(inertDisabledOrHidden) == null)
            return element;
        else
            continue;
    }
    return null;
}
get permanentElements() {
    return queryPermanentElementsAll(this.element);
}
getPermanentElementById(id) {
    return getPermanentElementById(this.element, id);
}
getPermanentElementMapForSnapshot(snapshot) {
    const permanentElementMap = {};
    for (const currentPermanentElement of this.permanentElements) {
        const { id } = currentPermanentElement;
        const newPermanentElement = snapshot.getPermanentElementById(id);
        if (newPermanentElement) {
            permanentElementMap[id] = [currentPermanentElement, newPermanentElement];
        }
    }
    return permanentElementMap;
}</pre>

<p>} function getPermanentElementById(node, id) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">querySelector</span>(<span class="ruby-string">`#${id}[data-turbo-permanent]`</span>);
</pre>

<p>} function queryPermanentElementsAll(node) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">querySelectorAll</span>(<span class="ruby-string">&quot;[id][data-turbo-permanent]&quot;</span>);
</pre>

<p>}</p>

<p>class FormSubmitObserver {</p>

<pre>constructor(delegate, eventTarget) {
    this.started = false;
    this.submitCaptured = () =&gt; {
        this.eventTarget.removeEventListener(&quot;submit&quot;, this.submitBubbled, false);
        this.eventTarget.addEventListener(&quot;submit&quot;, this.submitBubbled, false);
    };
    this.submitBubbled = ((event) =&gt; {
        if (!event.defaultPrevented) {
            const form = event.target instanceof HTMLFormElement ? event.target : undefined;
            const submitter = event.submitter || undefined;
            if (form &amp;&amp;
                submissionDoesNotDismissDialog(form, submitter) &amp;&amp;
                submissionDoesNotTargetIFrame(form, submitter) &amp;&amp;
                this.delegate.willSubmitForm(form, submitter)) {
                event.preventDefault();
                event.stopImmediatePropagation();
                this.delegate.formSubmitted(form, submitter);
            }
        }
    });
    this.delegate = delegate;
    this.eventTarget = eventTarget;
}
start() {
    if (!this.started) {
        this.eventTarget.addEventListener(&quot;submit&quot;, this.submitCaptured, true);
        this.started = true;
    }
}
stop() {
    if (this.started) {
        this.eventTarget.removeEventListener(&quot;submit&quot;, this.submitCaptured, true);
        this.started = false;
    }
}</pre>

<p>} function submissionDoesNotDismissDialog(form, submitter) {</p>

<pre>const method = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(&quot;formmethod&quot;)) || form.getAttribute(&quot;method&quot;);
return method != &quot;dialog&quot;;</pre>

<p>} function submissionDoesNotTargetIFrame(form, submitter) {</p>

<pre>if ((submitter === null || submitter === void 0 ? void 0 : submitter.hasAttribute(&quot;formtarget&quot;)) || form.hasAttribute(&quot;target&quot;)) {
    const target = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(&quot;formtarget&quot;)) || form.target;
    for (const element of document.getElementsByName(target)) {
        if (element instanceof HTMLIFrameElement)
            return false;
    }
    return true;
}
else {
    return true;
}</pre>

<p>}</p>

<p>class View {</p>

<pre>constructor(delegate, element) {
    this.resolveRenderPromise = (_value) =&gt; { };
    this.resolveInterceptionPromise = (_value) =&gt; { };
    this.delegate = delegate;
    this.element = element;
}
scrollToAnchor(anchor) {
    const element = this.snapshot.getElementForAnchor(anchor);
    if (element) {
        this.scrollToElement(element);
        this.focusElement(element);
    }
    else {
        this.scrollToPosition({ x: 0, y: 0 });
    }
}
scrollToAnchorFromLocation(location) {
    this.scrollToAnchor(getAnchor(location));
}
scrollToElement(element) {
    element.scrollIntoView();
}
focusElement(element) {
    if (element instanceof HTMLElement) {
        if (element.hasAttribute(&quot;tabindex&quot;)) {
            element.focus();
        }
        else {
            element.setAttribute(&quot;tabindex&quot;, &quot;-1&quot;);
            element.focus();
            element.removeAttribute(&quot;tabindex&quot;);
        }
    }
}
scrollToPosition({ x, y }) {
    this.scrollRoot.scrollTo(x, y);
}
scrollToTop() {
    this.scrollToPosition({ x: 0, y: 0 });
}
get scrollRoot() {
    return window;
}
async render(renderer) {
    const { isPreview, shouldRender, newSnapshot: snapshot } = renderer;
    if (shouldRender) {
        try {
            this.renderPromise = new Promise((resolve) =&gt; (this.resolveRenderPromise = resolve));
            this.renderer = renderer;
            await this.prepareToRenderSnapshot(renderer);
            const renderInterception = new Promise((resolve) =&gt; (this.resolveInterceptionPromise = resolve));
            const options = { resume: this.resolveInterceptionPromise, render: this.renderer.renderElement };
            const immediateRender = this.delegate.allowsImmediateRender(snapshot, options);
            if (!immediateRender)
                await renderInterception;
            await this.renderSnapshot(renderer);
            this.delegate.viewRenderedSnapshot(snapshot, isPreview);
            this.delegate.preloadOnLoadLinksForView(this.element);
            this.finishRenderingSnapshot(renderer);
        }
        finally {
            delete this.renderer;
            this.resolveRenderPromise(undefined);
            delete this.renderPromise;
        }
    }
    else {
        this.invalidate(renderer.reloadReason);
    }
}
invalidate(reason) {
    this.delegate.viewInvalidated(reason);
}
async prepareToRenderSnapshot(renderer) {
    this.markAsPreview(renderer.isPreview);
    await renderer.prepareToRender();
}
markAsPreview(isPreview) {
    if (isPreview) {
        this.element.setAttribute(&quot;data-turbo-preview&quot;, &quot;&quot;);
    }
    else {
        this.element.removeAttribute(&quot;data-turbo-preview&quot;);
    }
}
async renderSnapshot(renderer) {
    await renderer.render();
}
finishRenderingSnapshot(renderer) {
    renderer.finishRendering();
}</pre>

<p>}</p>

<p>class FrameView extends View {</p>

<pre class="ruby"><span class="ruby-identifier">missing</span>() {
    <span class="ruby-identifier">this</span>.<span class="ruby-identifier">element</span>.<span class="ruby-identifier">innerHTML</span> = <span class="ruby-string">`&lt;strong class=&quot;turbo-frame-error&quot;&gt;Content missing&lt;/strong&gt;`</span>;
}
<span class="ruby-identifier">get</span> <span class="ruby-identifier">snapshot</span>() {
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">new</span> <span class="ruby-constant">Snapshot</span>(<span class="ruby-identifier">this</span>.<span class="ruby-identifier">element</span>);
}
</pre>

<p>}</p>

<p>class LinkInterceptor {</p>

<pre>constructor(delegate, element) {
    this.clickBubbled = (event) =&gt; {
        if (this.respondsToEventTarget(event.target)) {
            this.clickEvent = event;
        }
        else {
            delete this.clickEvent;
        }
    };
    this.linkClicked = ((event) =&gt; {
        if (this.clickEvent &amp;&amp; this.respondsToEventTarget(event.target) &amp;&amp; event.target instanceof Element) {
            if (this.delegate.shouldInterceptLinkClick(event.target, event.detail.url, event.detail.originalEvent)) {
                this.clickEvent.preventDefault();
                event.preventDefault();
                this.delegate.linkClickIntercepted(event.target, event.detail.url, event.detail.originalEvent);
            }
        }
        delete this.clickEvent;
    });
    this.willVisit = ((_event) =&gt; {
        delete this.clickEvent;
    });
    this.delegate = delegate;
    this.element = element;
}
start() {
    this.element.addEventListener(&quot;click&quot;, this.clickBubbled);
    document.addEventListener(&quot;turbo:click&quot;, this.linkClicked);
    document.addEventListener(&quot;turbo:before-visit&quot;, this.willVisit);
}
stop() {
    this.element.removeEventListener(&quot;click&quot;, this.clickBubbled);
    document.removeEventListener(&quot;turbo:click&quot;, this.linkClicked);
    document.removeEventListener(&quot;turbo:before-visit&quot;, this.willVisit);
}
respondsToEventTarget(target) {
    const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;
    return element &amp;&amp; element.closest(&quot;turbo-frame, html&quot;) == this.element;
}</pre>

<p>}</p>

<p>class LinkClickObserver {</p>

<pre>constructor(delegate, eventTarget) {
    this.started = false;
    this.clickCaptured = () =&gt; {
        this.eventTarget.removeEventListener(&quot;click&quot;, this.clickBubbled, false);
        this.eventTarget.addEventListener(&quot;click&quot;, this.clickBubbled, false);
    };
    this.clickBubbled = (event) =&gt; {
        if (event instanceof MouseEvent &amp;&amp; this.clickEventIsSignificant(event)) {
            const target = (event.composedPath &amp;&amp; event.composedPath()[0]) || event.target;
            const link = this.findLinkFromClickTarget(target);
            if (link &amp;&amp; doesNotTargetIFrame(link)) {
                const location = this.getLocationForLink(link);
                if (this.delegate.willFollowLinkToLocation(link, location, event)) {
                    event.preventDefault();
                    this.delegate.followedLinkToLocation(link, location);
                }
            }
        }
    };
    this.delegate = delegate;
    this.eventTarget = eventTarget;
}
start() {
    if (!this.started) {
        this.eventTarget.addEventListener(&quot;click&quot;, this.clickCaptured, true);
        this.started = true;
    }
}
stop() {
    if (this.started) {
        this.eventTarget.removeEventListener(&quot;click&quot;, this.clickCaptured, true);
        this.started = false;
    }
}
clickEventIsSignificant(event) {
    return !((event.target &amp;&amp; event.target.isContentEditable) ||
        event.defaultPrevented ||
        event.which &gt; 1 ||
        event.altKey ||
        event.ctrlKey ||
        event.metaKey ||
        event.shiftKey);
}
findLinkFromClickTarget(target) {
    return findClosestRecursively(target, &quot;a[href]:not([target^=_]):not([download])&quot;);
}
getLocationForLink(link) {
    return expandURL(link.getAttribute(&quot;href&quot;) || &quot;&quot;);
}</pre>

<p>} function doesNotTargetIFrame(anchor) {</p>

<pre>if (anchor.hasAttribute(&quot;target&quot;)) {
    for (const element of document.getElementsByName(anchor.target)) {
        if (element instanceof HTMLIFrameElement)
            return false;
    }
    return true;
}
else {
    return true;
}</pre>

<p>}</p>

<p>class FormLinkClickObserver {</p>

<pre>constructor(delegate, element) {
    this.delegate = delegate;
    this.linkInterceptor = new LinkClickObserver(this, element);
}
start() {
    this.linkInterceptor.start();
}
stop() {
    this.linkInterceptor.stop();
}
willFollowLinkToLocation(link, location, originalEvent) {
    return (this.delegate.willSubmitFormLinkToLocation(link, location, originalEvent) &amp;&amp;
        link.hasAttribute(&quot;data-turbo-method&quot;));
}
followedLinkToLocation(link, location) {
    const form = document.createElement(&quot;form&quot;);
    const type = &quot;hidden&quot;;
    for (const [name, value] of location.searchParams) {
        form.append(Object.assign(document.createElement(&quot;input&quot;), { type, name, value }));
    }
    const action = Object.assign(location, { search: &quot;&quot; });
    form.setAttribute(&quot;data-turbo&quot;, &quot;true&quot;);
    form.setAttribute(&quot;action&quot;, action.href);
    form.setAttribute(&quot;hidden&quot;, &quot;&quot;);
    const method = link.getAttribute(&quot;data-turbo-method&quot;);
    if (method)
        form.setAttribute(&quot;method&quot;, method);
    const turboFrame = link.getAttribute(&quot;data-turbo-frame&quot;);
    if (turboFrame)
        form.setAttribute(&quot;data-turbo-frame&quot;, turboFrame);
    const turboAction = getVisitAction(link);
    if (turboAction)
        form.setAttribute(&quot;data-turbo-action&quot;, turboAction);
    const turboConfirm = link.getAttribute(&quot;data-turbo-confirm&quot;);
    if (turboConfirm)
        form.setAttribute(&quot;data-turbo-confirm&quot;, turboConfirm);
    const turboStream = link.hasAttribute(&quot;data-turbo-stream&quot;);
    if (turboStream)
        form.setAttribute(&quot;data-turbo-stream&quot;, &quot;&quot;);
    this.delegate.submittedFormLinkToLocation(link, location, form);
    document.body.appendChild(form);
    form.addEventListener(&quot;turbo:submit-end&quot;, () =&gt; form.remove(), { once: true });
    requestAnimationFrame(() =&gt; form.requestSubmit());
}</pre>

<p>}</p>

<p>class Bardo {</p>

<pre>static async preservingPermanentElements(delegate, permanentElementMap, callback) {
    const bardo = new this(delegate, permanentElementMap);
    bardo.enter();
    await callback();
    bardo.leave();
}
constructor(delegate, permanentElementMap) {
    this.delegate = delegate;
    this.permanentElementMap = permanentElementMap;
}
enter() {
    for (const id in this.permanentElementMap) {
        const [currentPermanentElement, newPermanentElement] = this.permanentElementMap[id];
        this.delegate.enteringBardo(currentPermanentElement, newPermanentElement);
        this.replaceNewPermanentElementWithPlaceholder(newPermanentElement);
    }
}
leave() {
    for (const id in this.permanentElementMap) {
        const [currentPermanentElement] = this.permanentElementMap[id];
        this.replaceCurrentPermanentElementWithClone(currentPermanentElement);
        this.replacePlaceholderWithPermanentElement(currentPermanentElement);
        this.delegate.leavingBardo(currentPermanentElement);
    }
}
replaceNewPermanentElementWithPlaceholder(permanentElement) {
    const placeholder = createPlaceholderForPermanentElement(permanentElement);
    permanentElement.replaceWith(placeholder);
}
replaceCurrentPermanentElementWithClone(permanentElement) {
    const clone = permanentElement.cloneNode(true);
    permanentElement.replaceWith(clone);
}
replacePlaceholderWithPermanentElement(permanentElement) {
    const placeholder = this.getPlaceholderById(permanentElement.id);
    placeholder === null || placeholder === void 0 ? void 0 : placeholder.replaceWith(permanentElement);
}
getPlaceholderById(id) {
    return this.placeholders.find((element) =&gt; element.content == id);
}
get placeholders() {
    return [...document.querySelectorAll(&quot;meta[name=turbo-permanent-placeholder][content]&quot;)];
}</pre>

<p>} function createPlaceholderForPermanentElement(permanentElement) {</p>

<pre class="ruby"><span class="ruby-identifier">const</span> <span class="ruby-identifier">element</span> = <span class="ruby-identifier">document</span>.<span class="ruby-identifier">createElement</span>(<span class="ruby-string">&quot;meta&quot;</span>);
<span class="ruby-identifier">element</span>.<span class="ruby-identifier">setAttribute</span>(<span class="ruby-string">&quot;name&quot;</span>, <span class="ruby-string">&quot;turbo-permanent-placeholder&quot;</span>);
<span class="ruby-identifier">element</span>.<span class="ruby-identifier">setAttribute</span>(<span class="ruby-string">&quot;content&quot;</span>, <span class="ruby-identifier">permanentElement</span>.<span class="ruby-identifier">id</span>);
<span class="ruby-keyword">return</span> <span class="ruby-identifier">element</span>;
</pre>

<p>}</p>

<p>class Renderer {</p>

<pre>constructor(currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {
    this.activeElement = null;
    this.currentSnapshot = currentSnapshot;
    this.newSnapshot = newSnapshot;
    this.isPreview = isPreview;
    this.willRender = willRender;
    this.renderElement = renderElement;
    this.promise = new Promise((resolve, reject) =&gt; (this.resolvingFunctions = { resolve, reject }));
}
get shouldRender() {
    return true;
}
get reloadReason() {
    return;
}
prepareToRender() {
    return;
}
finishRendering() {
    if (this.resolvingFunctions) {
        this.resolvingFunctions.resolve();
        delete this.resolvingFunctions;
    }
}
async preservingPermanentElements(callback) {
    await Bardo.preservingPermanentElements(this, this.permanentElementMap, callback);
}
focusFirstAutofocusableElement() {
    const element = this.connectedSnapshot.firstAutofocusableElement;
    if (elementIsFocusable(element)) {
        element.focus();
    }
}
enteringBardo(currentPermanentElement) {
    if (this.activeElement)
        return;
    if (currentPermanentElement.contains(this.currentSnapshot.activeElement)) {
        this.activeElement = this.currentSnapshot.activeElement;
    }
}
leavingBardo(currentPermanentElement) {
    if (currentPermanentElement.contains(this.activeElement) &amp;&amp; this.activeElement instanceof HTMLElement) {
        this.activeElement.focus();
        this.activeElement = null;
    }
}
get connectedSnapshot() {
    return this.newSnapshot.isConnected ? this.newSnapshot : this.currentSnapshot;
}
get currentElement() {
    return this.currentSnapshot.element;
}
get newElement() {
    return this.newSnapshot.element;
}
get permanentElementMap() {
    return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot);
}</pre>

<p>} function elementIsFocusable(element) {</p>

<pre>return element &amp;&amp; typeof element.focus == &quot;function&quot;;</pre>

<p>}</p>

<p>class FrameRenderer extends Renderer {</p>

<pre>static renderElement(currentElement, newElement) {
    var _a;
    const destinationRange = document.createRange();
    destinationRange.selectNodeContents(currentElement);
    destinationRange.deleteContents();
    const frameElement = newElement;
    const sourceRange = (_a = frameElement.ownerDocument) === null || _a === void 0 ? void 0 : _a.createRange();
    if (sourceRange) {
        sourceRange.selectNodeContents(frameElement);
        currentElement.appendChild(sourceRange.extractContents());
    }
}
constructor(delegate, currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {
    super(currentSnapshot, newSnapshot, renderElement, isPreview, willRender);
    this.delegate = delegate;
}
get shouldRender() {
    return true;
}
async render() {
    await nextAnimationFrame();
    this.preservingPermanentElements(() =&gt; {
        this.loadFrameElement();
    });
    this.scrollFrameIntoView();
    await nextAnimationFrame();
    this.focusFirstAutofocusableElement();
    await nextAnimationFrame();
    this.activateScriptElements();
}
loadFrameElement() {
    this.delegate.willRenderFrame(this.currentElement, this.newElement);
    this.renderElement(this.currentElement, this.newElement);
}
scrollFrameIntoView() {
    if (this.currentElement.autoscroll || this.newElement.autoscroll) {
        const element = this.currentElement.firstElementChild;
        const block = readScrollLogicalPosition(this.currentElement.getAttribute(&quot;data-autoscroll-block&quot;), &quot;end&quot;);
        const behavior = readScrollBehavior(this.currentElement.getAttribute(&quot;data-autoscroll-behavior&quot;), &quot;auto&quot;);
        if (element) {
            element.scrollIntoView({ block, behavior });
            return true;
        }
    }
    return false;
}
activateScriptElements() {
    for (const inertScriptElement of this.newScriptElements) {
        const activatedScriptElement = activateScriptElement(inertScriptElement);
        inertScriptElement.replaceWith(activatedScriptElement);
    }
}
get newScriptElements() {
    return this.currentElement.querySelectorAll(&quot;script&quot;);
}</pre>

<p>} function readScrollLogicalPosition(value, defaultValue) {</p>

<pre>if (value == &quot;end&quot; || value == &quot;start&quot; || value == &quot;center&quot; || value == &quot;nearest&quot;) {
    return value;
}
else {
    return defaultValue;
}</pre>

<p>} function readScrollBehavior(value, defaultValue) {</p>

<pre>if (value == &quot;auto&quot; || value == &quot;smooth&quot;) {
    return value;
}
else {
    return defaultValue;
}</pre>

<p>}</p>

<p>class ProgressBar {</p>

<pre>static get defaultCSS() {
    return unindent `
  .turbo-progress-bar {
    position: fixed;
    display: block;
    top: 0;
    left: 0;
    height: 3px;
    background: #0076ff;
    z-index: 2147483647;
    transition:
      width ${ProgressBar.animationDuration}ms ease-out,
      opacity ${ProgressBar.animationDuration / 2}ms ${ProgressBar.animationDuration / 2}ms ease-in;
    transform: translate3d(0, 0, 0);
  }
`;
}
constructor() {
    this.hiding = false;
    this.value = 0;
    this.visible = false;
    this.trickle = () =&gt; {
        this.setValue(this.value + Math.random() / 100);
    };
    this.stylesheetElement = this.createStylesheetElement();
    this.progressElement = this.createProgressElement();
    this.installStylesheetElement();
    this.setValue(0);
}
show() {
    if (!this.visible) {
        this.visible = true;
        this.installProgressElement();
        this.startTrickling();
    }
}
hide() {
    if (this.visible &amp;&amp; !this.hiding) {
        this.hiding = true;
        this.fadeProgressElement(() =&gt; {
            this.uninstallProgressElement();
            this.stopTrickling();
            this.visible = false;
            this.hiding = false;
        });
    }
}
setValue(value) {
    this.value = value;
    this.refresh();
}
installStylesheetElement() {
    document.head.insertBefore(this.stylesheetElement, document.head.firstChild);
}
installProgressElement() {
    this.progressElement.style.width = &quot;0&quot;;
    this.progressElement.style.opacity = &quot;1&quot;;
    document.documentElement.insertBefore(this.progressElement, document.body);
    this.refresh();
}
fadeProgressElement(callback) {
    this.progressElement.style.opacity = &quot;0&quot;;
    setTimeout(callback, ProgressBar.animationDuration * 1.5);
}
uninstallProgressElement() {
    if (this.progressElement.parentNode) {
        document.documentElement.removeChild(this.progressElement);
    }
}
startTrickling() {
    if (!this.trickleInterval) {
        this.trickleInterval = window.setInterval(this.trickle, ProgressBar.animationDuration);
    }
}
stopTrickling() {
    window.clearInterval(this.trickleInterval);
    delete this.trickleInterval;
}
refresh() {
    requestAnimationFrame(() =&gt; {
        this.progressElement.style.width = `${10 + this.value * 90}%`;
    });
}
createStylesheetElement() {
    const element = document.createElement(&quot;style&quot;);
    element.type = &quot;text/css&quot;;
    element.textContent = ProgressBar.defaultCSS;
    if (this.cspNonce) {
        element.nonce = this.cspNonce;
    }
    return element;
}
createProgressElement() {
    const element = document.createElement(&quot;div&quot;);
    element.className = &quot;turbo-progress-bar&quot;;
    return element;
}
get cspNonce() {
    return getMetaContent(&quot;csp-nonce&quot;);
}</pre>

<p>} ProgressBar.animationDuration = 300;</p>

<p>class HeadSnapshot extends Snapshot {</p>

<pre>constructor() {
    super(...arguments);
    this.detailsByOuterHTML = this.children
        .filter((element) =&gt; !elementIsNoscript(element))
        .map((element) =&gt; elementWithoutNonce(element))
        .reduce((result, element) =&gt; {
        const { outerHTML } = element;
        const details = outerHTML in result
            ? result[outerHTML]
            : {
                type: elementType(element),
                tracked: elementIsTracked(element),
                elements: [],
            };
        return Object.assign(Object.assign({}, result), { [outerHTML]: Object.assign(Object.assign({}, details), { elements: [...details.elements, element] }) });
    }, {});
}
get trackedElementSignature() {
    return Object.keys(this.detailsByOuterHTML)
        .filter((outerHTML) =&gt; this.detailsByOuterHTML[outerHTML].tracked)
        .join(&quot;&quot;);
}
getScriptElementsNotInSnapshot(snapshot) {
    return this.getElementsMatchingTypeNotInSnapshot(&quot;script&quot;, snapshot);
}
getStylesheetElementsNotInSnapshot(snapshot) {
    return this.getElementsMatchingTypeNotInSnapshot(&quot;stylesheet&quot;, snapshot);
}
getElementsMatchingTypeNotInSnapshot(matchedType, snapshot) {
    return Object.keys(this.detailsByOuterHTML)
        .filter((outerHTML) =&gt; !(outerHTML in snapshot.detailsByOuterHTML))
        .map((outerHTML) =&gt; this.detailsByOuterHTML[outerHTML])
        .filter(({ type }) =&gt; type == matchedType)
        .map(({ elements: [element] }) =&gt; element);
}
get provisionalElements() {
    return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) =&gt; {
        const { type, tracked, elements } = this.detailsByOuterHTML[outerHTML];
        if (type == null &amp;&amp; !tracked) {
            return [...result, ...elements];
        }
        else if (elements.length &gt; 1) {
            return [...result, ...elements.slice(1)];
        }
        else {
            return result;
        }
    }, []);
}
getMetaValue(name) {
    const element = this.findMetaElementByName(name);
    return element ? element.getAttribute(&quot;content&quot;) : null;
}
findMetaElementByName(name) {
    return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) =&gt; {
        const { elements: [element], } = this.detailsByOuterHTML[outerHTML];
        return elementIsMetaElementWithName(element, name) ? element : result;
    }, undefined);
}</pre>

<p>} function elementType(element) {</p>

<pre>if (elementIsScript(element)) {
    return &quot;script&quot;;
}
else if (elementIsStylesheet(element)) {
    return &quot;stylesheet&quot;;
}</pre>

<p>} function elementIsTracked(element) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">getAttribute</span>(<span class="ruby-string">&quot;data-turbo-track&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-string">&quot;reload&quot;</span>;
</pre>

<p>} function elementIsScript(element) {</p>

<pre class="ruby"><span class="ruby-identifier">const</span> <span class="ruby-identifier">tagName</span> = <span class="ruby-identifier">element</span>.<span class="ruby-identifier">localName</span>;
<span class="ruby-keyword">return</span> <span class="ruby-identifier">tagName</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;script&quot;</span>;
</pre>

<p>} function elementIsNoscript(element) {</p>

<pre class="ruby"><span class="ruby-identifier">const</span> <span class="ruby-identifier">tagName</span> = <span class="ruby-identifier">element</span>.<span class="ruby-identifier">localName</span>;
<span class="ruby-keyword">return</span> <span class="ruby-identifier">tagName</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;noscript&quot;</span>;
</pre>

<p>} function elementIsStylesheet(element) {</p>

<pre class="ruby"><span class="ruby-identifier">const</span> <span class="ruby-identifier">tagName</span> = <span class="ruby-identifier">element</span>.<span class="ruby-identifier">localName</span>;
<span class="ruby-keyword">return</span> <span class="ruby-identifier">tagName</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;style&quot;</span> <span class="ruby-operator">||</span> (<span class="ruby-identifier">tagName</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;link&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">getAttribute</span>(<span class="ruby-string">&quot;rel&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-string">&quot;stylesheet&quot;</span>);
</pre>

<p>} function elementIsMetaElementWithName(element, name) {</p>

<pre class="ruby"><span class="ruby-identifier">const</span> <span class="ruby-identifier">tagName</span> = <span class="ruby-identifier">element</span>.<span class="ruby-identifier">localName</span>;
<span class="ruby-keyword">return</span> <span class="ruby-identifier">tagName</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;meta&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">getAttribute</span>(<span class="ruby-string">&quot;name&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span>;
</pre>

<p>} function elementWithoutNonce(element) {</p>

<pre>if (element.hasAttribute(&quot;nonce&quot;)) {
    element.setAttribute(&quot;nonce&quot;, &quot;&quot;);
}
return element;</pre>

<p>}</p>

<p>class PageSnapshot extends Snapshot {</p>

<pre>static fromHTMLString(html = &quot;&quot;) {
    return this.fromDocument(parseHTMLDocument(html));
}
static fromElement(element) {
    return this.fromDocument(element.ownerDocument);
}
static fromDocument({ head, body }) {
    return new this(body, new HeadSnapshot(head));
}
constructor(element, headSnapshot) {
    super(element);
    this.headSnapshot = headSnapshot;
}
clone() {
    const clonedElement = this.element.cloneNode(true);
    const selectElements = this.element.querySelectorAll(&quot;select&quot;);
    const clonedSelectElements = clonedElement.querySelectorAll(&quot;select&quot;);
    for (const [index, source] of selectElements.entries()) {
        const clone = clonedSelectElements[index];
        for (const option of clone.selectedOptions)
            option.selected = false;
        for (const option of source.selectedOptions)
            clone.options[option.index].selected = true;
    }
    for (const clonedPasswordInput of clonedElement.querySelectorAll(&#39;input[type=&quot;password&quot;]&#39;)) {
        clonedPasswordInput.value = &quot;&quot;;
    }
    return new PageSnapshot(clonedElement, this.headSnapshot);
}
get headElement() {
    return this.headSnapshot.element;
}
get rootLocation() {
    var _a;
    const root = (_a = this.getSetting(&quot;root&quot;)) !== null &amp;&amp; _a !== void 0 ? _a : &quot;/&quot;;
    return expandURL(root);
}
get cacheControlValue() {
    return this.getSetting(&quot;cache-control&quot;);
}
get isPreviewable() {
    return this.cacheControlValue != &quot;no-preview&quot;;
}
get isCacheable() {
    return this.cacheControlValue != &quot;no-cache&quot;;
}
get isVisitable() {
    return this.getSetting(&quot;visit-control&quot;) != &quot;reload&quot;;
}
getSetting(name) {
    return this.headSnapshot.getMetaValue(`turbo-${name}`);
}</pre>

<p>}</p>

<p>var TimingMetric; (function (TimingMetric) {</p>

<pre class="ruby"><span class="ruby-constant">TimingMetric</span>[<span class="ruby-string">&quot;visitStart&quot;</span>] = <span class="ruby-string">&quot;visitStart&quot;</span>;
<span class="ruby-constant">TimingMetric</span>[<span class="ruby-string">&quot;requestStart&quot;</span>] = <span class="ruby-string">&quot;requestStart&quot;</span>;
<span class="ruby-constant">TimingMetric</span>[<span class="ruby-string">&quot;requestEnd&quot;</span>] = <span class="ruby-string">&quot;requestEnd&quot;</span>;
<span class="ruby-constant">TimingMetric</span>[<span class="ruby-string">&quot;visitEnd&quot;</span>] = <span class="ruby-string">&quot;visitEnd&quot;</span>;
</pre>

<p>})(TimingMetric || (TimingMetric = {})); var VisitState; (function (VisitState) {</p>

<pre class="ruby"><span class="ruby-constant">VisitState</span>[<span class="ruby-string">&quot;initialized&quot;</span>] = <span class="ruby-string">&quot;initialized&quot;</span>;
<span class="ruby-constant">VisitState</span>[<span class="ruby-string">&quot;started&quot;</span>] = <span class="ruby-string">&quot;started&quot;</span>;
<span class="ruby-constant">VisitState</span>[<span class="ruby-string">&quot;canceled&quot;</span>] = <span class="ruby-string">&quot;canceled&quot;</span>;
<span class="ruby-constant">VisitState</span>[<span class="ruby-string">&quot;failed&quot;</span>] = <span class="ruby-string">&quot;failed&quot;</span>;
<span class="ruby-constant">VisitState</span>[<span class="ruby-string">&quot;completed&quot;</span>] = <span class="ruby-string">&quot;completed&quot;</span>;
</pre>

<p>})(VisitState || (VisitState = {})); const defaultOptions = {</p>

<pre>action: &quot;advance&quot;,
historyChanged: false,
visitCachedSnapshot: () =&gt; { },
willRender: true,
updateHistory: true,
shouldCacheSnapshot: true,
acceptsStreamResponse: false,</pre>

<p>}; var SystemStatusCode; (function (SystemStatusCode) {</p>

<pre class="ruby"><span class="ruby-constant">SystemStatusCode</span>[<span class="ruby-constant">SystemStatusCode</span>[<span class="ruby-string">&quot;networkFailure&quot;</span>] = <span class="ruby-value">0</span>] = <span class="ruby-string">&quot;networkFailure&quot;</span>;
<span class="ruby-constant">SystemStatusCode</span>[<span class="ruby-constant">SystemStatusCode</span>[<span class="ruby-string">&quot;timeoutFailure&quot;</span>] = <span class="ruby-value">-1</span>] = <span class="ruby-string">&quot;timeoutFailure&quot;</span>;
<span class="ruby-constant">SystemStatusCode</span>[<span class="ruby-constant">SystemStatusCode</span>[<span class="ruby-string">&quot;contentTypeMismatch&quot;</span>] = <span class="ruby-value">-2</span>] = <span class="ruby-string">&quot;contentTypeMismatch&quot;</span>;
</pre>

<p>})(SystemStatusCode || (SystemStatusCode = {})); class Visit {</p>

<pre>constructor(delegate, location, restorationIdentifier, options = {}) {
    this.identifier = uuid();
    this.timingMetrics = {};
    this.followedRedirect = false;
    this.historyChanged = false;
    this.scrolled = false;
    this.shouldCacheSnapshot = true;
    this.acceptsStreamResponse = false;
    this.snapshotCached = false;
    this.state = VisitState.initialized;
    this.delegate = delegate;
    this.location = location;
    this.restorationIdentifier = restorationIdentifier || uuid();
    const { action, historyChanged, referrer, snapshot, snapshotHTML, response, visitCachedSnapshot, willRender, updateHistory, shouldCacheSnapshot, acceptsStreamResponse, } = Object.assign(Object.assign({}, defaultOptions), options);
    this.action = action;
    this.historyChanged = historyChanged;
    this.referrer = referrer;
    this.snapshot = snapshot;
    this.snapshotHTML = snapshotHTML;
    this.response = response;
    this.isSamePage = this.delegate.locationWithActionIsSamePage(this.location, this.action);
    this.visitCachedSnapshot = visitCachedSnapshot;
    this.willRender = willRender;
    this.updateHistory = updateHistory;
    this.scrolled = !willRender;
    this.shouldCacheSnapshot = shouldCacheSnapshot;
    this.acceptsStreamResponse = acceptsStreamResponse;
}
get adapter() {
    return this.delegate.adapter;
}
get view() {
    return this.delegate.view;
}
get history() {
    return this.delegate.history;
}
get restorationData() {
    return this.history.getRestorationDataForIdentifier(this.restorationIdentifier);
}
get silent() {
    return this.isSamePage;
}
start() {
    if (this.state == VisitState.initialized) {
        this.recordTimingMetric(TimingMetric.visitStart);
        this.state = VisitState.started;
        this.adapter.visitStarted(this);
        this.delegate.visitStarted(this);
    }
}
cancel() {
    if (this.state == VisitState.started) {
        if (this.request) {
            this.request.cancel();
        }
        this.cancelRender();
        this.state = VisitState.canceled;
    }
}
complete() {
    if (this.state == VisitState.started) {
        this.recordTimingMetric(TimingMetric.visitEnd);
        this.state = VisitState.completed;
        this.followRedirect();
        if (!this.followedRedirect) {
            this.adapter.visitCompleted(this);
            this.delegate.visitCompleted(this);
        }
    }
}
fail() {
    if (this.state == VisitState.started) {
        this.state = VisitState.failed;
        this.adapter.visitFailed(this);
    }
}
changeHistory() {
    var _a;
    if (!this.historyChanged &amp;&amp; this.updateHistory) {
        const actionForHistory = this.location.href === ((_a = this.referrer) === null || _a === void 0 ? void 0 : _a.href) ? &quot;replace&quot; : this.action;
        const method = getHistoryMethodForAction(actionForHistory);
        this.history.update(method, this.location, this.restorationIdentifier);
        this.historyChanged = true;
    }
}
issueRequest() {
    if (this.hasPreloadedResponse()) {
        this.simulateRequest();
    }
    else if (this.shouldIssueRequest() &amp;&amp; !this.request) {
        this.request = new FetchRequest(this, FetchMethod.get, this.location);
        this.request.perform();
    }
}
simulateRequest() {
    if (this.response) {
        this.startRequest();
        this.recordResponse();
        this.finishRequest();
    }
}
startRequest() {
    this.recordTimingMetric(TimingMetric.requestStart);
    this.adapter.visitRequestStarted(this);
}
recordResponse(response = this.response) {
    this.response = response;
    if (response) {
        const { statusCode } = response;
        if (isSuccessful(statusCode)) {
            this.adapter.visitRequestCompleted(this);
        }
        else {
            this.adapter.visitRequestFailedWithStatusCode(this, statusCode);
        }
    }
}
finishRequest() {
    this.recordTimingMetric(TimingMetric.requestEnd);
    this.adapter.visitRequestFinished(this);
}
loadResponse() {
    if (this.response) {
        const { statusCode, responseHTML } = this.response;
        this.render(async () =&gt; {
            if (this.shouldCacheSnapshot)
                this.cacheSnapshot();
            if (this.view.renderPromise)
                await this.view.renderPromise;
            if (isSuccessful(statusCode) &amp;&amp; responseHTML != null) {
                await this.view.renderPage(PageSnapshot.fromHTMLString(responseHTML), false, this.willRender, this);
                this.performScroll();
                this.adapter.visitRendered(this);
                this.complete();
            }
            else {
                await this.view.renderError(PageSnapshot.fromHTMLString(responseHTML), this);
                this.adapter.visitRendered(this);
                this.fail();
            }
        });
    }
}
getCachedSnapshot() {
    const snapshot = this.view.getCachedSnapshotForLocation(this.location) || this.getPreloadedSnapshot();
    if (snapshot &amp;&amp; (!getAnchor(this.location) || snapshot.hasAnchor(getAnchor(this.location)))) {
        if (this.action == &quot;restore&quot; || snapshot.isPreviewable) {
            return snapshot;
        }
    }
}
getPreloadedSnapshot() {
    if (this.snapshotHTML) {
        return PageSnapshot.fromHTMLString(this.snapshotHTML);
    }
}
hasCachedSnapshot() {
    return this.getCachedSnapshot() != null;
}
loadCachedSnapshot() {
    const snapshot = this.getCachedSnapshot();
    if (snapshot) {
        const isPreview = this.shouldIssueRequest();
        this.render(async () =&gt; {
            this.cacheSnapshot();
            if (this.isSamePage) {
                this.adapter.visitRendered(this);
            }
            else {
                if (this.view.renderPromise)
                    await this.view.renderPromise;
                await this.view.renderPage(snapshot, isPreview, this.willRender, this);
                this.performScroll();
                this.adapter.visitRendered(this);
                if (!isPreview) {
                    this.complete();
                }
            }
        });
    }
}
followRedirect() {
    var _a;
    if (this.redirectedToLocation &amp;&amp; !this.followedRedirect &amp;&amp; ((_a = this.response) === null || _a === void 0 ? void 0 : _a.redirected)) {
        this.adapter.visitProposedToLocation(this.redirectedToLocation, {
            action: &quot;replace&quot;,
            response: this.response,
            shouldCacheSnapshot: false,
            willRender: false,
        });
        this.followedRedirect = true;
    }
}
goToSamePageAnchor() {
    if (this.isSamePage) {
        this.render(async () =&gt; {
            this.cacheSnapshot();
            this.performScroll();
            this.changeHistory();
            this.adapter.visitRendered(this);
        });
    }
}
prepareRequest(request) {
    if (this.acceptsStreamResponse) {
        request.acceptResponseType(StreamMessage.contentType);
    }
}
requestStarted() {
    this.startRequest();
}
requestPreventedHandlingResponse(_request, _response) { }
async requestSucceededWithResponse(request, response) {
    const responseHTML = await response.responseHTML;
    const { redirected, statusCode } = response;
    if (responseHTML == undefined) {
        this.recordResponse({
            statusCode: SystemStatusCode.contentTypeMismatch,
            redirected,
        });
    }
    else {
        this.redirectedToLocation = response.redirected ? response.location : undefined;
        this.recordResponse({ statusCode: statusCode, responseHTML, redirected });
    }
}
async requestFailedWithResponse(request, response) {
    const responseHTML = await response.responseHTML;
    const { redirected, statusCode } = response;
    if (responseHTML == undefined) {
        this.recordResponse({
            statusCode: SystemStatusCode.contentTypeMismatch,
            redirected,
        });
    }
    else {
        this.recordResponse({ statusCode: statusCode, responseHTML, redirected });
    }
}
requestErrored(_request, _error) {
    this.recordResponse({
        statusCode: SystemStatusCode.networkFailure,
        redirected: false,
    });
}
requestFinished() {
    this.finishRequest();
}
performScroll() {
    if (!this.scrolled &amp;&amp; !this.view.forceReloaded) {
        if (this.action == &quot;restore&quot;) {
            this.scrollToRestoredPosition() || this.scrollToAnchor() || this.view.scrollToTop();
        }
        else {
            this.scrollToAnchor() || this.view.scrollToTop();
        }
        if (this.isSamePage) {
            this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation, this.location);
        }
        this.scrolled = true;
    }
}
scrollToRestoredPosition() {
    const { scrollPosition } = this.restorationData;
    if (scrollPosition) {
        this.view.scrollToPosition(scrollPosition);
        return true;
    }
}
scrollToAnchor() {
    const anchor = getAnchor(this.location);
    if (anchor != null) {
        this.view.scrollToAnchor(anchor);
        return true;
    }
}
recordTimingMetric(metric) {
    this.timingMetrics[metric] = new Date().getTime();
}
getTimingMetrics() {
    return Object.assign({}, this.timingMetrics);
}
getHistoryMethodForAction(action) {
    switch (action) {
        case &quot;replace&quot;:
            return history.replaceState;
        case &quot;advance&quot;:
        case &quot;restore&quot;:
            return history.pushState;
    }
}
hasPreloadedResponse() {
    return typeof this.response == &quot;object&quot;;
}
shouldIssueRequest() {
    if (this.isSamePage) {
        return false;
    }
    else if (this.action == &quot;restore&quot;) {
        return !this.hasCachedSnapshot();
    }
    else {
        return this.willRender;
    }
}
cacheSnapshot() {
    if (!this.snapshotCached) {
        this.view.cacheSnapshot(this.snapshot).then((snapshot) =&gt; snapshot &amp;&amp; this.visitCachedSnapshot(snapshot));
        this.snapshotCached = true;
    }
}
async render(callback) {
    this.cancelRender();
    await new Promise((resolve) =&gt; {
        this.frame = requestAnimationFrame(() =&gt; resolve());
    });
    await callback();
    delete this.frame;
}
cancelRender() {
    if (this.frame) {
        cancelAnimationFrame(this.frame);
        delete this.frame;
    }
}</pre>

<p>} function isSuccessful(statusCode) {</p>

<pre class="ruby"><span class="ruby-keyword">return</span> <span class="ruby-identifier">statusCode</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">200</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">statusCode</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">300</span>;
</pre>

<p>}</p>

<p>class BrowserAdapter {</p>

<pre>constructor(session) {
    this.progressBar = new ProgressBar();
    this.showProgressBar = () =&gt; {
        this.progressBar.show();
    };
    this.session = session;
}
visitProposedToLocation(location, options) {
    this.navigator.startVisit(location, (options === null || options === void 0 ? void 0 : options.restorationIdentifier) || uuid(), options);
}
visitStarted(visit) {
    this.location = visit.location;
    visit.loadCachedSnapshot();
    visit.issueRequest();
    visit.goToSamePageAnchor();
}
visitRequestStarted(visit) {
    this.progressBar.setValue(0);
    if (visit.hasCachedSnapshot() || visit.action != &quot;restore&quot;) {
        this.showVisitProgressBarAfterDelay();
    }
    else {
        this.showProgressBar();
    }
}
visitRequestCompleted(visit) {
    visit.loadResponse();
}
visitRequestFailedWithStatusCode(visit, statusCode) {
    switch (statusCode) {
        case SystemStatusCode.networkFailure:
        case SystemStatusCode.timeoutFailure:
        case SystemStatusCode.contentTypeMismatch:
            return this.reload({
                reason: &quot;request_failed&quot;,
                context: {
                    statusCode,
                },
            });
        default:
            return visit.loadResponse();
    }
}
visitRequestFinished(_visit) {
    this.progressBar.setValue(1);
    this.hideVisitProgressBar();
}
visitCompleted(_visit) { }
pageInvalidated(reason) {
    this.reload(reason);
}
visitFailed(_visit) { }
visitRendered(_visit) { }
formSubmissionStarted(_formSubmission) {
    this.progressBar.setValue(0);
    this.showFormProgressBarAfterDelay();
}
formSubmissionFinished(_formSubmission) {
    this.progressBar.setValue(1);
    this.hideFormProgressBar();
}
showVisitProgressBarAfterDelay() {
    this.visitProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);
}
hideVisitProgressBar() {
    this.progressBar.hide();
    if (this.visitProgressBarTimeout != null) {
        window.clearTimeout(this.visitProgressBarTimeout);
        delete this.visitProgressBarTimeout;
    }
}
showFormProgressBarAfterDelay() {
    if (this.formProgressBarTimeout == null) {
        this.formProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);
    }
}
hideFormProgressBar() {
    this.progressBar.hide();
    if (this.formProgressBarTimeout != null) {
        window.clearTimeout(this.formProgressBarTimeout);
        delete this.formProgressBarTimeout;
    }
}
reload(reason) {
    var _a;
    dispatch(&quot;turbo:reload&quot;, { detail: reason });
    window.location.href = ((_a = this.location) === null || _a === void 0 ? void 0 : _a.toString()) || window.location.href;
}
get navigator() {
    return this.session.navigator;
}</pre>

<p>}</p>

<p>class CacheObserver {</p>

<pre>constructor() {
    this.selector = &quot;[data-turbo-temporary]&quot;;
    this.deprecatedSelector = &quot;[data-turbo-cache=false]&quot;;
    this.started = false;
    this.removeTemporaryElements = ((_event) =&gt; {
        for (const element of this.temporaryElements) {
            element.remove();
        }
    });
}
start() {
    if (!this.started) {
        this.started = true;
        addEventListener(&quot;turbo:before-cache&quot;, this.removeTemporaryElements, false);
    }
}
stop() {
    if (this.started) {
        this.started = false;
        removeEventListener(&quot;turbo:before-cache&quot;, this.removeTemporaryElements, false);
    }
}
get temporaryElements() {
    return [...document.querySelectorAll(this.selector), ...this.temporaryElementsWithDeprecation];
}
get temporaryElementsWithDeprecation() {
    const elements = document.querySelectorAll(this.deprecatedSelector);
    if (elements.length) {
        console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`);
    }
    return [...elements];
}</pre>

<p>}</p>

<p>class FrameRedirector {</p>

<pre>constructor(session, element) {
    this.session = session;
    this.element = element;
    this.linkInterceptor = new LinkInterceptor(this, element);
    this.formSubmitObserver = new FormSubmitObserver(this, element);
}
start() {
    this.linkInterceptor.start();
    this.formSubmitObserver.start();
}
stop() {
    this.linkInterceptor.stop();
    this.formSubmitObserver.stop();
}
shouldInterceptLinkClick(element, _location, _event) {
    return this.shouldRedirect(element);
}
linkClickIntercepted(element, url, event) {
    const frame = this.findFrameElement(element);
    if (frame) {
        frame.delegate.linkClickIntercepted(element, url, event);
    }
}
willSubmitForm(element, submitter) {
    return (element.closest(&quot;turbo-frame&quot;) == null &amp;&amp;
        this.shouldSubmit(element, submitter) &amp;&amp;
        this.shouldRedirect(element, submitter));
}
formSubmitted(element, submitter) {
    const frame = this.findFrameElement(element, submitter);
    if (frame) {
        frame.delegate.formSubmitted(element, submitter);
    }
}
shouldSubmit(form, submitter) {
    var _a;
    const action = getAction(form, submitter);
    const meta = this.element.ownerDocument.querySelector(`meta[name=&quot;turbo-root&quot;]`);
    const rootLocation = expandURL((_a = meta === null || meta === void 0 ? void 0 : meta.content) !== null &amp;&amp; _a !== void 0 ? _a : &quot;/&quot;);
    return this.shouldRedirect(form, submitter) &amp;&amp; locationIsVisitable(action, rootLocation);
}
shouldRedirect(element, submitter) {
    const isNavigatable = element instanceof HTMLFormElement
        ? this.session.submissionIsNavigatable(element, submitter)
        : this.session.elementIsNavigatable(element);
    if (isNavigatable) {
        const frame = this.findFrameElement(element, submitter);
        return frame ? frame != element.closest(&quot;turbo-frame&quot;) : false;
    }
    else {
        return false;
    }
}
findFrameElement(element, submitter) {
    const id = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(&quot;data-turbo-frame&quot;)) || element.getAttribute(&quot;data-turbo-frame&quot;);
    if (id &amp;&amp; id != &quot;_top&quot;) {
        const frame = this.element.querySelector(`#${id}:not([disabled])`);
        if (frame instanceof FrameElement) {
            return frame;
        }
    }
}</pre>

<p>}</p>

<p>class History {</p>

<pre>constructor(delegate) {
    this.restorationIdentifier = uuid();
    this.restorationData = {};
    this.started = false;
    this.pageLoaded = false;
    this.onPopState = (event) =&gt; {
        if (this.shouldHandlePopState()) {
            const { turbo } = event.state || {};
            if (turbo) {
                this.location = new URL(window.location.href);
                const { restorationIdentifier } = turbo;
                this.restorationIdentifier = restorationIdentifier;
                this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location, restorationIdentifier);
            }
        }
    };
    this.onPageLoad = async (_event) =&gt; {
        await nextMicrotask();
        this.pageLoaded = true;
    };
    this.delegate = delegate;
}
start() {
    if (!this.started) {
        addEventListener(&quot;popstate&quot;, this.onPopState, false);
        addEventListener(&quot;load&quot;, this.onPageLoad, false);
        this.started = true;
        this.replace(new URL(window.location.href));
    }
}
stop() {
    if (this.started) {
        removeEventListener(&quot;popstate&quot;, this.onPopState, false);
        removeEventListener(&quot;load&quot;, this.onPageLoad, false);
        this.started = false;
    }
}
push(location, restorationIdentifier) {
    this.update(history.pushState, location, restorationIdentifier);
}
replace(location, restorationIdentifier) {
    this.update(history.replaceState, location, restorationIdentifier);
}
update(method, location, restorationIdentifier = uuid()) {
    const state = { turbo: { restorationIdentifier } };
    method.call(history, state, &quot;&quot;, location.href);
    this.location = location;
    this.restorationIdentifier = restorationIdentifier;
}
getRestorationDataForIdentifier(restorationIdentifier) {
    return this.restorationData[restorationIdentifier] || {};
}
updateRestorationData(additionalData) {
    const { restorationIdentifier } = this;
    const restorationData = this.restorationData[restorationIdentifier];
    this.restorationData[restorationIdentifier] = Object.assign(Object.assign({}, restorationData), additionalData);
}
assumeControlOfScrollRestoration() {
    var _a;
    if (!this.previousScrollRestoration) {
        this.previousScrollRestoration = (_a = history.scrollRestoration) !== null &amp;&amp; _a !== void 0 ? _a : &quot;auto&quot;;
        history.scrollRestoration = &quot;manual&quot;;
    }
}
relinquishControlOfScrollRestoration() {
    if (this.previousScrollRestoration) {
        history.scrollRestoration = this.previousScrollRestoration;
        delete this.previousScrollRestoration;
    }
}
shouldHandlePopState() {
    return this.pageIsLoaded();
}
pageIsLoaded() {
    return this.pageLoaded || document.readyState == &quot;complete&quot;;
}</pre>

<p>}</p>

<p>class Navigator {</p>

<pre>constructor(delegate) {
    this.delegate = delegate;
}
proposeVisit(location, options = {}) {
    if (this.delegate.allowsVisitingLocationWithAction(location, options.action)) {
        if (locationIsVisitable(location, this.view.snapshot.rootLocation)) {
            this.delegate.visitProposedToLocation(location, options);
        }
        else {
            window.location.href = location.toString();
        }
    }
}
startVisit(locatable, restorationIdentifier, options = {}) {
    this.stop();
    this.currentVisit = new Visit(this, expandURL(locatable), restorationIdentifier, Object.assign({ referrer: this.location }, options));
    this.currentVisit.start();
}
submitForm(form, submitter) {
    this.stop();
    this.formSubmission = new FormSubmission(this, form, submitter, true);
    this.formSubmission.start();
}
stop() {
    if (this.formSubmission) {
        this.formSubmission.stop();
        delete this.formSubmission;
    }
    if (this.currentVisit) {
        this.currentVisit.cancel();
        delete this.currentVisit;
    }
}
get adapter() {
    return this.delegate.adapter;
}
get view() {
    return this.delegate.view;
}
get history() {
    return this.delegate.history;
}
formSubmissionStarted(formSubmission) {
    if (typeof this.adapter.formSubmissionStarted === &quot;function&quot;) {
        this.adapter.formSubmissionStarted(formSubmission);
    }
}
async formSubmissionSucceededWithResponse(formSubmission, fetchResponse) {
    if (formSubmission == this.formSubmission) {
        const responseHTML = await fetchResponse.responseHTML;
        if (responseHTML) {
            const shouldCacheSnapshot = formSubmission.isSafe;
            if (!shouldCacheSnapshot) {
                this.view.clearSnapshotCache();
            }
            const { statusCode, redirected } = fetchResponse;
            const action = this.getActionForFormSubmission(formSubmission);
            const visitOptions = {
                action,
                shouldCacheSnapshot,
                response: { statusCode, responseHTML, redirected },
            };
            this.proposeVisit(fetchResponse.location, visitOptions);
        }
    }
}
async formSubmissionFailedWithResponse(formSubmission, fetchResponse) {
    const responseHTML = await fetchResponse.responseHTML;
    if (responseHTML) {
        const snapshot = PageSnapshot.fromHTMLString(responseHTML);
        if (fetchResponse.serverError) {
            await this.view.renderError(snapshot, this.currentVisit);
        }
        else {
            await this.view.renderPage(snapshot, false, true, this.currentVisit);
        }
        this.view.scrollToTop();
        this.view.clearSnapshotCache();
    }
}
formSubmissionErrored(formSubmission, error) {
    console.error(error);
}
formSubmissionFinished(formSubmission) {
    if (typeof this.adapter.formSubmissionFinished === &quot;function&quot;) {
        this.adapter.formSubmissionFinished(formSubmission);
    }
}
visitStarted(visit) {
    this.delegate.visitStarted(visit);
}
visitCompleted(visit) {
    this.delegate.visitCompleted(visit);
}
locationWithActionIsSamePage(location, action) {
    const anchor = getAnchor(location);
    const currentAnchor = getAnchor(this.view.lastRenderedLocation);
    const isRestorationToTop = action === &quot;restore&quot; &amp;&amp; typeof anchor === &quot;undefined&quot;;
    return (action !== &quot;replace&quot; &amp;&amp;
        getRequestURL(location) === getRequestURL(this.view.lastRenderedLocation) &amp;&amp;
        (isRestorationToTop || (anchor != null &amp;&amp; anchor !== currentAnchor)));
}
visitScrolledToSamePageLocation(oldURL, newURL) {
    this.delegate.visitScrolledToSamePageLocation(oldURL, newURL);
}
get location() {
    return this.history.location;
}
get restorationIdentifier() {
    return this.history.restorationIdentifier;
}
getActionForFormSubmission({ submitter, formElement }) {
    return getVisitAction(submitter, formElement) || &quot;advance&quot;;
}</pre>

<p>}</p>

<p>var PageStage; (function (PageStage) {</p>

<pre class="ruby"><span class="ruby-constant">PageStage</span>[<span class="ruby-constant">PageStage</span>[<span class="ruby-string">&quot;initial&quot;</span>] = <span class="ruby-value">0</span>] = <span class="ruby-string">&quot;initial&quot;</span>;
<span class="ruby-constant">PageStage</span>[<span class="ruby-constant">PageStage</span>[<span class="ruby-string">&quot;loading&quot;</span>] = <span class="ruby-value">1</span>] = <span class="ruby-string">&quot;loading&quot;</span>;
<span class="ruby-constant">PageStage</span>[<span class="ruby-constant">PageStage</span>[<span class="ruby-string">&quot;interactive&quot;</span>] = <span class="ruby-value">2</span>] = <span class="ruby-string">&quot;interactive&quot;</span>;
<span class="ruby-constant">PageStage</span>[<span class="ruby-constant">PageStage</span>[<span class="ruby-string">&quot;complete&quot;</span>] = <span class="ruby-value">3</span>] = <span class="ruby-string">&quot;complete&quot;</span>;
</pre>

<p>})(PageStage || (PageStage = {})); class PageObserver {</p>

<pre>constructor(delegate) {
    this.stage = PageStage.initial;
    this.started = false;
    this.interpretReadyState = () =&gt; {
        const { readyState } = this;
        if (readyState == &quot;interactive&quot;) {
            this.pageIsInteractive();
        }
        else if (readyState == &quot;complete&quot;) {
            this.pageIsComplete();
        }
    };
    this.pageWillUnload = () =&gt; {
        this.delegate.pageWillUnload();
    };
    this.delegate = delegate;
}
start() {
    if (!this.started) {
        if (this.stage == PageStage.initial) {
            this.stage = PageStage.loading;
        }
        document.addEventListener(&quot;readystatechange&quot;, this.interpretReadyState, false);
        addEventListener(&quot;pagehide&quot;, this.pageWillUnload, false);
        this.started = true;
    }
}
stop() {
    if (this.started) {
        document.removeEventListener(&quot;readystatechange&quot;, this.interpretReadyState, false);
        removeEventListener(&quot;pagehide&quot;, this.pageWillUnload, false);
        this.started = false;
    }
}
pageIsInteractive() {
    if (this.stage == PageStage.loading) {
        this.stage = PageStage.interactive;
        this.delegate.pageBecameInteractive();
    }
}
pageIsComplete() {
    this.pageIsInteractive();
    if (this.stage == PageStage.interactive) {
        this.stage = PageStage.complete;
        this.delegate.pageLoaded();
    }
}
get readyState() {
    return document.readyState;
}</pre>

<p>}</p>

<p>class ScrollObserver {</p>

<pre>constructor(delegate) {
    this.started = false;
    this.onScroll = () =&gt; {
        this.updatePosition({ x: window.pageXOffset, y: window.pageYOffset });
    };
    this.delegate = delegate;
}
start() {
    if (!this.started) {
        addEventListener(&quot;scroll&quot;, this.onScroll, false);
        this.onScroll();
        this.started = true;
    }
}
stop() {
    if (this.started) {
        removeEventListener(&quot;scroll&quot;, this.onScroll, false);
        this.started = false;
    }
}
updatePosition(position) {
    this.delegate.scrollPositionChanged(position);
}</pre>

<p>}</p>

<p>class StreamMessageRenderer {</p>

<pre>render({ fragment }) {
    Bardo.preservingPermanentElements(this, getPermanentElementMapForFragment(fragment), () =&gt; document.documentElement.appendChild(fragment));
}
enteringBardo(currentPermanentElement, newPermanentElement) {
    newPermanentElement.replaceWith(currentPermanentElement.cloneNode(true));
}
leavingBardo() { }</pre>

<p>} function getPermanentElementMapForFragment(fragment) {</p>

<pre>const permanentElementsInDocument = queryPermanentElementsAll(document.documentElement);
const permanentElementMap = {};
for (const permanentElementInDocument of permanentElementsInDocument) {
    const { id } = permanentElementInDocument;
    for (const streamElement of fragment.querySelectorAll(&quot;turbo-stream&quot;)) {
        const elementInStream = getPermanentElementById(streamElement.templateElement.content, id);
        if (elementInStream) {
            permanentElementMap[id] = [permanentElementInDocument, elementInStream];
        }
    }
}
return permanentElementMap;</pre>

<p>}</p>

<p>class StreamObserver {</p>

<pre>constructor(delegate) {
    this.sources = new Set();
    this.started = false;
    this.inspectFetchResponse = ((event) =&gt; {
        const response = fetchResponseFromEvent(event);
        if (response &amp;&amp; fetchResponseIsStream(response)) {
            event.preventDefault();
            this.receiveMessageResponse(response);
        }
    });
    this.receiveMessageEvent = (event) =&gt; {
        if (this.started &amp;&amp; typeof event.data == &quot;string&quot;) {
            this.receiveMessageHTML(event.data);
        }
    };
    this.delegate = delegate;
}
start() {
    if (!this.started) {
        this.started = true;
        addEventListener(&quot;turbo:before-fetch-response&quot;, this.inspectFetchResponse, false);
    }
}
stop() {
    if (this.started) {
        this.started = false;
        removeEventListener(&quot;turbo:before-fetch-response&quot;, this.inspectFetchResponse, false);
    }
}
connectStreamSource(source) {
    if (!this.streamSourceIsConnected(source)) {
        this.sources.add(source);
        source.addEventListener(&quot;message&quot;, this.receiveMessageEvent, false);
    }
}
disconnectStreamSource(source) {
    if (this.streamSourceIsConnected(source)) {
        this.sources.delete(source);
        source.removeEventListener(&quot;message&quot;, this.receiveMessageEvent, false);
    }
}
streamSourceIsConnected(source) {
    return this.sources.has(source);
}
async receiveMessageResponse(response) {
    const html = await response.responseHTML;
    if (html) {
        this.receiveMessageHTML(html);
    }
}
receiveMessageHTML(html) {
    this.delegate.receivedMessageFromStream(StreamMessage.wrap(html));
}</pre>

<p>} function fetchResponseFromEvent(event) {</p>

<pre>var _a;
const fetchResponse = (_a = event.detail) === null || _a === void 0 ? void 0 : _a.fetchResponse;
if (fetchResponse instanceof FetchResponse) {
    return fetchResponse;
}</pre>

<p>} function fetchResponseIsStream(response) {</p>

<pre>var _a;
const contentType = (_a = response.contentType) !== null &amp;&amp; _a !== void 0 ? _a : &quot;&quot;;
return contentType.startsWith(StreamMessage.contentType);</pre>

<p>}</p>

<p>class ErrorRenderer extends Renderer {</p>

<pre>static renderElement(currentElement, newElement) {
    const { documentElement, body } = document;
    documentElement.replaceChild(newElement, body);
}
async render() {
    this.replaceHeadAndBody();
    this.activateScriptElements();
}
replaceHeadAndBody() {
    const { documentElement, head } = document;
    documentElement.replaceChild(this.newHead, head);
    this.renderElement(this.currentElement, this.newElement);
}
activateScriptElements() {
    for (const replaceableElement of this.scriptElements) {
        const parentNode = replaceableElement.parentNode;
        if (parentNode) {
            const element = activateScriptElement(replaceableElement);
            parentNode.replaceChild(element, replaceableElement);
        }
    }
}
get newHead() {
    return this.newSnapshot.headSnapshot.element;
}
get scriptElements() {
    return document.documentElement.querySelectorAll(&quot;script&quot;);
}</pre>

<p>}</p>

<p>class PageRenderer extends Renderer {</p>

<pre>static renderElement(currentElement, newElement) {
    if (document.body &amp;&amp; newElement instanceof HTMLBodyElement) {
        document.body.replaceWith(newElement);
    }
    else {
        document.documentElement.appendChild(newElement);
    }
}
get shouldRender() {
    return this.newSnapshot.isVisitable &amp;&amp; this.trackedElementsAreIdentical;
}
get reloadReason() {
    if (!this.newSnapshot.isVisitable) {
        return {
            reason: &quot;turbo_visit_control_is_reload&quot;,
        };
    }
    if (!this.trackedElementsAreIdentical) {
        return {
            reason: &quot;tracked_element_mismatch&quot;,
        };
    }
}
async prepareToRender() {
    await this.mergeHead();
}
async render() {
    if (this.willRender) {
        await this.replaceBody();
    }
}
finishRendering() {
    super.finishRendering();
    if (!this.isPreview) {
        this.focusFirstAutofocusableElement();
    }
}
get currentHeadSnapshot() {
    return this.currentSnapshot.headSnapshot;
}
get newHeadSnapshot() {
    return this.newSnapshot.headSnapshot;
}
get newElement() {
    return this.newSnapshot.element;
}
async mergeHead() {
    const mergedHeadElements = this.mergeProvisionalElements();
    const newStylesheetElements = this.copyNewHeadStylesheetElements();
    this.copyNewHeadScriptElements();
    await mergedHeadElements;
    await newStylesheetElements;
}
async replaceBody() {
    await this.preservingPermanentElements(async () =&gt; {
        this.activateNewBody();
        await this.assignNewBody();
    });
}
get trackedElementsAreIdentical() {
    return this.currentHeadSnapshot.trackedElementSignature == this.newHeadSnapshot.trackedElementSignature;
}
async copyNewHeadStylesheetElements() {
    const loadingElements = [];
    for (const element of this.newHeadStylesheetElements) {
        loadingElements.push(waitForLoad(element));
        document.head.appendChild(element);
    }
    await Promise.all(loadingElements);
}
copyNewHeadScriptElements() {
    for (const element of this.newHeadScriptElements) {
        document.head.appendChild(activateScriptElement(element));
    }
}
async mergeProvisionalElements() {
    const newHeadElements = [...this.newHeadProvisionalElements];
    for (const element of this.currentHeadProvisionalElements) {
        if (!this.isCurrentElementInElementList(element, newHeadElements)) {
            document.head.removeChild(element);
        }
    }
    for (const element of newHeadElements) {
        document.head.appendChild(element);
    }
}
isCurrentElementInElementList(element, elementList) {
    for (const [index, newElement] of elementList.entries()) {
        if (element.tagName == &quot;TITLE&quot;) {
            if (newElement.tagName != &quot;TITLE&quot;) {
                continue;
            }
            if (element.innerHTML == newElement.innerHTML) {
                elementList.splice(index, 1);
                return true;
            }
        }
        if (newElement.isEqualNode(element)) {
            elementList.splice(index, 1);
            return true;
        }
    }
    return false;
}
removeCurrentHeadProvisionalElements() {
    for (const element of this.currentHeadProvisionalElements) {
        document.head.removeChild(element);
    }
}
copyNewHeadProvisionalElements() {
    for (const element of this.newHeadProvisionalElements) {
        document.head.appendChild(element);
    }
}
activateNewBody() {
    document.adoptNode(this.newElement);
    this.activateNewBodyScriptElements();
}
activateNewBodyScriptElements() {
    for (const inertScriptElement of this.newBodyScriptElements) {
        const activatedScriptElement = activateScriptElement(inertScriptElement);
        inertScriptElement.replaceWith(activatedScriptElement);
    }
}
async assignNewBody() {
    await this.renderElement(this.currentElement, this.newElement);
}
get newHeadStylesheetElements() {
    return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot);
}
get newHeadScriptElements() {
    return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot);
}
get currentHeadProvisionalElements() {
    return this.currentHeadSnapshot.provisionalElements;
}
get newHeadProvisionalElements() {
    return this.newHeadSnapshot.provisionalElements;
}
get newBodyScriptElements() {
    return this.newElement.querySelectorAll(&quot;script&quot;);
}</pre>

<p>}</p>

<p>class SnapshotCache {</p>

<pre>constructor(size) {
    this.keys = [];
    this.snapshots = {};
    this.size = size;
}
has(location) {
    return toCacheKey(location) in this.snapshots;
}
get(location) {
    if (this.has(location)) {
        const snapshot = this.read(location);
        this.touch(location);
        return snapshot;
    }
}
put(location, snapshot) {
    this.write(location, snapshot);
    this.touch(location);
    return snapshot;
}
clear() {
    this.snapshots = {};
}
read(location) {
    return this.snapshots[toCacheKey(location)];
}
write(location, snapshot) {
    this.snapshots[toCacheKey(location)] = snapshot;
}
touch(location) {
    const key = toCacheKey(location);
    const index = this.keys.indexOf(key);
    if (index &gt; -1)
        this.keys.splice(index, 1);
    this.keys.unshift(key);
    this.trim();
}
trim() {
    for (const key of this.keys.splice(this.size)) {
        delete this.snapshots[key];
    }
}</pre>

<p>}</p>

<p>class PageView extends View {</p>

<pre>constructor() {
    super(...arguments);
    this.snapshotCache = new SnapshotCache(10);
    this.lastRenderedLocation = new URL(location.href);
    this.forceReloaded = false;
}
renderPage(snapshot, isPreview = false, willRender = true, visit) {
    const renderer = new PageRenderer(this.snapshot, snapshot, PageRenderer.renderElement, isPreview, willRender);
    if (!renderer.shouldRender) {
        this.forceReloaded = true;
    }
    else {
        visit === null || visit === void 0 ? void 0 : visit.changeHistory();
    }
    return this.render(renderer);
}
renderError(snapshot, visit) {
    visit === null || visit === void 0 ? void 0 : visit.changeHistory();
    const renderer = new ErrorRenderer(this.snapshot, snapshot, ErrorRenderer.renderElement, false);
    return this.render(renderer);
}
clearSnapshotCache() {
    this.snapshotCache.clear();
}
async cacheSnapshot(snapshot = this.snapshot) {
    if (snapshot.isCacheable) {
        this.delegate.viewWillCacheSnapshot();
        const { lastRenderedLocation: location } = this;
        await nextEventLoopTick();
        const cachedSnapshot = snapshot.clone();
        this.snapshotCache.put(location, cachedSnapshot);
        return cachedSnapshot;
    }
}
getCachedSnapshotForLocation(location) {
    return this.snapshotCache.get(location);
}
get snapshot() {
    return PageSnapshot.fromElement(this.element);
}</pre>

<p>}</p>

<p>class Preloader {</p>

<pre>constructor(delegate) {
    this.selector = &quot;a[data-turbo-preload]&quot;;
    this.delegate = delegate;
}
get snapshotCache() {
    return this.delegate.navigator.view.snapshotCache;
}
start() {
    if (document.readyState === &quot;loading&quot;) {
        return document.addEventListener(&quot;DOMContentLoaded&quot;, () =&gt; {
            this.preloadOnLoadLinksForView(document.body);
        });
    }
    else {
        this.preloadOnLoadLinksForView(document.body);
    }
}
preloadOnLoadLinksForView(element) {
    for (const link of element.querySelectorAll(this.selector)) {
        this.preloadURL(link);
    }
}
async preloadURL(link) {
    const location = new URL(link.href);
    if (this.snapshotCache.has(location)) {
        return;
    }
    try {
        const response = await fetch(location.toString(), { headers: { &quot;VND.PREFETCH&quot;: &quot;true&quot;, Accept: &quot;text/html&quot; } });
        const responseText = await response.text();
        const snapshot = PageSnapshot.fromHTMLString(responseText);
        this.snapshotCache.put(location, snapshot);
    }
    catch (_) {
    }
}</pre>

<p>}</p>

<p>class Session {</p>

<pre>constructor() {
    this.navigator = new Navigator(this);
    this.history = new History(this);
    this.preloader = new Preloader(this);
    this.view = new PageView(this, document.documentElement);
    this.adapter = new BrowserAdapter(this);
    this.pageObserver = new PageObserver(this);
    this.cacheObserver = new CacheObserver();
    this.linkClickObserver = new LinkClickObserver(this, window);
    this.formSubmitObserver = new FormSubmitObserver(this, document);
    this.scrollObserver = new ScrollObserver(this);
    this.streamObserver = new StreamObserver(this);
    this.formLinkClickObserver = new FormLinkClickObserver(this, document.documentElement);
    this.frameRedirector = new FrameRedirector(this, document.documentElement);
    this.streamMessageRenderer = new StreamMessageRenderer();
    this.drive = true;
    this.enabled = true;
    this.progressBarDelay = 500;
    this.started = false;
    this.formMode = &quot;on&quot;;
}
start() {
    if (!this.started) {
        this.pageObserver.start();
        this.cacheObserver.start();
        this.formLinkClickObserver.start();
        this.linkClickObserver.start();
        this.formSubmitObserver.start();
        this.scrollObserver.start();
        this.streamObserver.start();
        this.frameRedirector.start();
        this.history.start();
        this.preloader.start();
        this.started = true;
        this.enabled = true;
    }
}
disable() {
    this.enabled = false;
}
stop() {
    if (this.started) {
        this.pageObserver.stop();
        this.cacheObserver.stop();
        this.formLinkClickObserver.stop();
        this.linkClickObserver.stop();
        this.formSubmitObserver.stop();
        this.scrollObserver.stop();
        this.streamObserver.stop();
        this.frameRedirector.stop();
        this.history.stop();
        this.started = false;
    }
}
registerAdapter(adapter) {
    this.adapter = adapter;
}
visit(location, options = {}) {
    const frameElement = options.frame ? document.getElementById(options.frame) : null;
    if (frameElement instanceof FrameElement) {
        frameElement.src = location.toString();
        frameElement.loaded;
    }
    else {
        this.navigator.proposeVisit(expandURL(location), options);
    }
}
connectStreamSource(source) {
    this.streamObserver.connectStreamSource(source);
}
disconnectStreamSource(source) {
    this.streamObserver.disconnectStreamSource(source);
}
renderStreamMessage(message) {
    this.streamMessageRenderer.render(StreamMessage.wrap(message));
}
clearCache() {
    this.view.clearSnapshotCache();
}
setProgressBarDelay(delay) {
    this.progressBarDelay = delay;
}
setFormMode(mode) {
    this.formMode = mode;
}
get location() {
    return this.history.location;
}
get restorationIdentifier() {
    return this.history.restorationIdentifier;
}
historyPoppedToLocationWithRestorationIdentifier(location, restorationIdentifier) {
    if (this.enabled) {
        this.navigator.startVisit(location, restorationIdentifier, {
            action: &quot;restore&quot;,
            historyChanged: true,
        });
    }
    else {
        this.adapter.pageInvalidated({
            reason: &quot;turbo_disabled&quot;,
        });
    }
}
scrollPositionChanged(position) {
    this.history.updateRestorationData({ scrollPosition: position });
}
willSubmitFormLinkToLocation(link, location) {
    return this.elementIsNavigatable(link) &amp;&amp; locationIsVisitable(location, this.snapshot.rootLocation);
}
submittedFormLinkToLocation() { }
willFollowLinkToLocation(link, location, event) {
    return (this.elementIsNavigatable(link) &amp;&amp;
        locationIsVisitable(location, this.snapshot.rootLocation) &amp;&amp;
        this.applicationAllowsFollowingLinkToLocation(link, location, event));
}
followedLinkToLocation(link, location) {
    const action = this.getActionForLink(link);
    const acceptsStreamResponse = link.hasAttribute(&quot;data-turbo-stream&quot;);
    this.visit(location.href, { action, acceptsStreamResponse });
}
allowsVisitingLocationWithAction(location, action) {
    return this.locationWithActionIsSamePage(location, action) || this.applicationAllowsVisitingLocation(location);
}
visitProposedToLocation(location, options) {
    extendURLWithDeprecatedProperties(location);
    this.adapter.visitProposedToLocation(location, options);
}
visitStarted(visit) {
    if (!visit.acceptsStreamResponse) {
        markAsBusy(document.documentElement);
    }
    extendURLWithDeprecatedProperties(visit.location);
    if (!visit.silent) {
        this.notifyApplicationAfterVisitingLocation(visit.location, visit.action);
    }
}
visitCompleted(visit) {
    clearBusyState(document.documentElement);
    this.notifyApplicationAfterPageLoad(visit.getTimingMetrics());
}
locationWithActionIsSamePage(location, action) {
    return this.navigator.locationWithActionIsSamePage(location, action);
}
visitScrolledToSamePageLocation(oldURL, newURL) {
    this.notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL);
}
willSubmitForm(form, submitter) {
    const action = getAction(form, submitter);
    return (this.submissionIsNavigatable(form, submitter) &amp;&amp;
        locationIsVisitable(expandURL(action), this.snapshot.rootLocation));
}
formSubmitted(form, submitter) {
    this.navigator.submitForm(form, submitter);
}
pageBecameInteractive() {
    this.view.lastRenderedLocation = this.location;
    this.notifyApplicationAfterPageLoad();
}
pageLoaded() {
    this.history.assumeControlOfScrollRestoration();
}
pageWillUnload() {
    this.history.relinquishControlOfScrollRestoration();
}
receivedMessageFromStream(message) {
    this.renderStreamMessage(message);
}
viewWillCacheSnapshot() {
    var _a;
    if (!((_a = this.navigator.currentVisit) === null || _a === void 0 ? void 0 : _a.silent)) {
        this.notifyApplicationBeforeCachingSnapshot();
    }
}
allowsImmediateRender({ element }, options) {
    const event = this.notifyApplicationBeforeRender(element, options);
    const { defaultPrevented, detail: { render }, } = event;
    if (this.view.renderer &amp;&amp; render) {
        this.view.renderer.renderElement = render;
    }
    return !defaultPrevented;
}
viewRenderedSnapshot(_snapshot, _isPreview) {
    this.view.lastRenderedLocation = this.history.location;
    this.notifyApplicationAfterRender();
}
preloadOnLoadLinksForView(element) {
    this.preloader.preloadOnLoadLinksForView(element);
}
viewInvalidated(reason) {
    this.adapter.pageInvalidated(reason);
}
frameLoaded(frame) {
    this.notifyApplicationAfterFrameLoad(frame);
}
frameRendered(fetchResponse, frame) {
    this.notifyApplicationAfterFrameRender(fetchResponse, frame);
}
applicationAllowsFollowingLinkToLocation(link, location, ev) {
    const event = this.notifyApplicationAfterClickingLinkToLocation(link, location, ev);
    return !event.defaultPrevented;
}
applicationAllowsVisitingLocation(location) {
    const event = this.notifyApplicationBeforeVisitingLocation(location);
    return !event.defaultPrevented;
}
notifyApplicationAfterClickingLinkToLocation(link, location, event) {
    return dispatch(&quot;turbo:click&quot;, {
        target: link,
        detail: { url: location.href, originalEvent: event },
        cancelable: true,
    });
}
notifyApplicationBeforeVisitingLocation(location) {
    return dispatch(&quot;turbo:before-visit&quot;, {
        detail: { url: location.href },
        cancelable: true,
    });
}
notifyApplicationAfterVisitingLocation(location, action) {
    return dispatch(&quot;turbo:visit&quot;, { detail: { url: location.href, action } });
}
notifyApplicationBeforeCachingSnapshot() {
    return dispatch(&quot;turbo:before-cache&quot;);
}
notifyApplicationBeforeRender(newBody, options) {
    return dispatch(&quot;turbo:before-render&quot;, {
        detail: Object.assign({ newBody }, options),
        cancelable: true,
    });
}
notifyApplicationAfterRender() {
    return dispatch(&quot;turbo:render&quot;);
}
notifyApplicationAfterPageLoad(timing = {}) {
    return dispatch(&quot;turbo:load&quot;, {
        detail: { url: this.location.href, timing },
    });
}
notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL) {
    dispatchEvent(new HashChangeEvent(&quot;hashchange&quot;, {
        oldURL: oldURL.toString(),
        newURL: newURL.toString(),
    }));
}
notifyApplicationAfterFrameLoad(frame) {
    return dispatch(&quot;turbo:frame-load&quot;, { target: frame });
}
notifyApplicationAfterFrameRender(fetchResponse, frame) {
    return dispatch(&quot;turbo:frame-render&quot;, {
        detail: { fetchResponse },
        target: frame,
        cancelable: true,
    });
}
submissionIsNavigatable(form, submitter) {
    if (this.formMode == &quot;off&quot;) {
        return false;
    }
    else {
        const submitterIsNavigatable = submitter ? this.elementIsNavigatable(submitter) : true;
        if (this.formMode == &quot;optin&quot;) {
            return submitterIsNavigatable &amp;&amp; form.closest(&#39;[data-turbo=&quot;true&quot;]&#39;) != null;
        }
        else {
            return submitterIsNavigatable &amp;&amp; this.elementIsNavigatable(form);
        }
    }
}
elementIsNavigatable(element) {
    const container = findClosestRecursively(element, &quot;[data-turbo]&quot;);
    const withinFrame = findClosestRecursively(element, &quot;turbo-frame&quot;);
    if (this.drive || withinFrame) {
        if (container) {
            return container.getAttribute(&quot;data-turbo&quot;) != &quot;false&quot;;
        }
        else {
            return true;
        }
    }
    else {
        if (container) {
            return container.getAttribute(&quot;data-turbo&quot;) == &quot;true&quot;;
        }
        else {
            return false;
        }
    }
}
getActionForLink(link) {
    return getVisitAction(link) || &quot;advance&quot;;
}
get snapshot() {
    return this.view.snapshot;
}</pre>

<p>} function extendURLWithDeprecatedProperties(url) {</p>

<pre class="ruby"><span class="ruby-constant">Object</span>.<span class="ruby-identifier">defineProperties</span>(<span class="ruby-identifier">url</span>, <span class="ruby-identifier">deprecatedLocationPropertyDescriptors</span>);
</pre>

<p>} const deprecatedLocationPropertyDescriptors = {</p>

<pre>absoluteURL: {
    get() {
        return this.toString();
    },
},</pre>

<p>};</p>

<p>class Cache {</p>

<pre class="ruby"><span class="ruby-identifier">constructor</span>(<span class="ruby-identifier">session</span>) {
    <span class="ruby-identifier">this</span>.<span class="ruby-identifier">session</span> = <span class="ruby-identifier">session</span>;
}
<span class="ruby-identifier">clear</span>() {
    <span class="ruby-identifier">this</span>.<span class="ruby-identifier">session</span>.<span class="ruby-identifier">clearCache</span>();
}
<span class="ruby-identifier">resetCacheControl</span>() {
    <span class="ruby-identifier">this</span>.<span class="ruby-identifier">setCacheControl</span>(<span class="ruby-string">&quot;&quot;</span>);
}
<span class="ruby-identifier">exemptPageFromCache</span>() {
    <span class="ruby-identifier">this</span>.<span class="ruby-identifier">setCacheControl</span>(<span class="ruby-string">&quot;no-cache&quot;</span>);
}
<span class="ruby-identifier">exemptPageFromPreview</span>() {
    <span class="ruby-identifier">this</span>.<span class="ruby-identifier">setCacheControl</span>(<span class="ruby-string">&quot;no-preview&quot;</span>);
}
<span class="ruby-identifier">setCacheControl</span>(<span class="ruby-identifier">value</span>) {
    <span class="ruby-identifier">setMetaContent</span>(<span class="ruby-string">&quot;turbo-cache-control&quot;</span>, <span class="ruby-identifier">value</span>);
}
</pre>

<p>}</p>

<p>const StreamActions = {</p>

<pre>after() {
    this.targetElements.forEach((e) =&gt; { var _a; return (_a = e.parentElement) === null || _a === void 0 ? void 0 : _a.insertBefore(this.templateContent, e.nextSibling); });
},
append() {
    this.removeDuplicateTargetChildren();
    this.targetElements.forEach((e) =&gt; e.append(this.templateContent));
},
before() {
    this.targetElements.forEach((e) =&gt; { var _a; return (_a = e.parentElement) === null || _a === void 0 ? void 0 : _a.insertBefore(this.templateContent, e); });
},
prepend() {
    this.removeDuplicateTargetChildren();
    this.targetElements.forEach((e) =&gt; e.prepend(this.templateContent));
},
remove() {
    this.targetElements.forEach((e) =&gt; e.remove());
},
replace() {
    this.targetElements.forEach((e) =&gt; e.replaceWith(this.templateContent));
},
update() {
    this.targetElements.forEach((targetElement) =&gt; {
        targetElement.innerHTML = &quot;&quot;;
        targetElement.append(this.templateContent);
    });
},</pre>

<p>};</p>

<p>const session = new Session(); const cache = new Cache(session); const { navigator: navigator$1 } = session; function start() {</p>

<pre class="ruby"><span class="ruby-identifier">session</span>.<span class="ruby-identifier">start</span>();
</pre>

<p>} function registerAdapter(adapter) {</p>

<pre class="ruby"><span class="ruby-identifier">session</span>.<span class="ruby-identifier">registerAdapter</span>(<span class="ruby-identifier">adapter</span>);
</pre>

<p>} function visit(location, options) {</p>

<pre class="ruby"><span class="ruby-identifier">session</span>.<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">location</span>, <span class="ruby-identifier">options</span>);
</pre>

<p>} function connectStreamSource(source) {</p>

<pre class="ruby"><span class="ruby-identifier">session</span>.<span class="ruby-identifier">connectStreamSource</span>(<span class="ruby-identifier">source</span>);
</pre>

<p>} function disconnectStreamSource(source) {</p>

<pre class="ruby"><span class="ruby-identifier">session</span>.<span class="ruby-identifier">disconnectStreamSource</span>(<span class="ruby-identifier">source</span>);
</pre>

<p>} function renderStreamMessage(message) {</p>

<pre class="ruby"><span class="ruby-identifier">session</span>.<span class="ruby-identifier">renderStreamMessage</span>(<span class="ruby-identifier">message</span>);
</pre>

<p>} function clearCache() {</p>

<pre class="ruby"><span class="ruby-identifier">console</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-string">&quot;Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`&quot;</span>);
<span class="ruby-identifier">session</span>.<span class="ruby-identifier">clearCache</span>();
</pre>

<p>} function setProgressBarDelay(delay) {</p>

<pre class="ruby"><span class="ruby-identifier">session</span>.<span class="ruby-identifier">setProgressBarDelay</span>(<span class="ruby-identifier">delay</span>);
</pre>

<p>} function setConfirmMethod(confirmMethod) {</p>

<pre class="ruby"><span class="ruby-constant">FormSubmission</span>.<span class="ruby-identifier">confirmMethod</span> = <span class="ruby-identifier">confirmMethod</span>;
</pre>

<p>} function setFormMode(mode) {</p>

<pre class="ruby"><span class="ruby-identifier">session</span>.<span class="ruby-identifier">setFormMode</span>(<span class="ruby-identifier">mode</span>);
</pre>

<p>}</p>

<p>var Turbo = /<strong>#__PURE__</strong>/Object.freeze({</p>

<pre>__proto__: null,
navigator: navigator$1,
session: session,
cache: cache,
PageRenderer: PageRenderer,
PageSnapshot: PageSnapshot,
FrameRenderer: FrameRenderer,
start: start,
registerAdapter: registerAdapter,
visit: visit,
connectStreamSource: connectStreamSource,
disconnectStreamSource: disconnectStreamSource,
renderStreamMessage: renderStreamMessage,
clearCache: clearCache,
setProgressBarDelay: setProgressBarDelay,
setConfirmMethod: setConfirmMethod,
setFormMode: setFormMode,
StreamActions: StreamActions</pre>

<p>});</p>

<p>class TurboFrameMissingError extends Error { }</p>

<p>class FrameController {</p>

<pre>constructor(element) {
    this.fetchResponseLoaded = (_fetchResponse) =&gt; { };
    this.currentFetchRequest = null;
    this.resolveVisitPromise = () =&gt; { };
    this.connected = false;
    this.hasBeenLoaded = false;
    this.ignoredAttributes = new Set();
    this.action = null;
    this.visitCachedSnapshot = ({ element }) =&gt; {
        const frame = element.querySelector(&quot;#&quot; + this.element.id);
        if (frame &amp;&amp; this.previousFrameElement) {
            frame.replaceChildren(...this.previousFrameElement.children);
        }
        delete this.previousFrameElement;
    };
    this.element = element;
    this.view = new FrameView(this, this.element);
    this.appearanceObserver = new AppearanceObserver(this, this.element);
    this.formLinkClickObserver = new FormLinkClickObserver(this, this.element);
    this.linkInterceptor = new LinkInterceptor(this, this.element);
    this.restorationIdentifier = uuid();
    this.formSubmitObserver = new FormSubmitObserver(this, this.element);
}
connect() {
    if (!this.connected) {
        this.connected = true;
        if (this.loadingStyle == FrameLoadingStyle.lazy) {
            this.appearanceObserver.start();
        }
        else {
            this.loadSourceURL();
        }
        this.formLinkClickObserver.start();
        this.linkInterceptor.start();
        this.formSubmitObserver.start();
    }
}
disconnect() {
    if (this.connected) {
        this.connected = false;
        this.appearanceObserver.stop();
        this.formLinkClickObserver.stop();
        this.linkInterceptor.stop();
        this.formSubmitObserver.stop();
    }
}
disabledChanged() {
    if (this.loadingStyle == FrameLoadingStyle.eager) {
        this.loadSourceURL();
    }
}
sourceURLChanged() {
    if (this.isIgnoringChangesTo(&quot;src&quot;))
        return;
    if (this.element.isConnected) {
        this.complete = false;
    }
    if (this.loadingStyle == FrameLoadingStyle.eager || this.hasBeenLoaded) {
        this.loadSourceURL();
    }
}
sourceURLReloaded() {
    const { src } = this.element;
    this.ignoringChangesToAttribute(&quot;complete&quot;, () =&gt; {
        this.element.removeAttribute(&quot;complete&quot;);
    });
    this.element.src = null;
    this.element.src = src;
    return this.element.loaded;
}
completeChanged() {
    if (this.isIgnoringChangesTo(&quot;complete&quot;))
        return;
    this.loadSourceURL();
}
loadingStyleChanged() {
    if (this.loadingStyle == FrameLoadingStyle.lazy) {
        this.appearanceObserver.start();
    }
    else {
        this.appearanceObserver.stop();
        this.loadSourceURL();
    }
}
async loadSourceURL() {
    if (this.enabled &amp;&amp; this.isActive &amp;&amp; !this.complete &amp;&amp; this.sourceURL) {
        this.element.loaded = this.visit(expandURL(this.sourceURL));
        this.appearanceObserver.stop();
        await this.element.loaded;
        this.hasBeenLoaded = true;
    }
}
async loadResponse(fetchResponse) {
    if (fetchResponse.redirected || (fetchResponse.succeeded &amp;&amp; fetchResponse.isHTML)) {
        this.sourceURL = fetchResponse.response.url;
    }
    try {
        const html = await fetchResponse.responseHTML;
        if (html) {
            const document = parseHTMLDocument(html);
            const pageSnapshot = PageSnapshot.fromDocument(document);
            if (pageSnapshot.isVisitable) {
                await this.loadFrameResponse(fetchResponse, document);
            }
            else {
                await this.handleUnvisitableFrameResponse(fetchResponse);
            }
        }
    }
    finally {
        this.fetchResponseLoaded = () =&gt; { };
    }
}
elementAppearedInViewport(element) {
    this.proposeVisitIfNavigatedWithAction(element, element);
    this.loadSourceURL();
}
willSubmitFormLinkToLocation(link) {
    return this.shouldInterceptNavigation(link);
}
submittedFormLinkToLocation(link, _location, form) {
    const frame = this.findFrameElement(link);
    if (frame)
        form.setAttribute(&quot;data-turbo-frame&quot;, frame.id);
}
shouldInterceptLinkClick(element, _location, _event) {
    return this.shouldInterceptNavigation(element);
}
linkClickIntercepted(element, location) {
    this.navigateFrame(element, location);
}
willSubmitForm(element, submitter) {
    return element.closest(&quot;turbo-frame&quot;) == this.element &amp;&amp; this.shouldInterceptNavigation(element, submitter);
}
formSubmitted(element, submitter) {
    if (this.formSubmission) {
        this.formSubmission.stop();
    }
    this.formSubmission = new FormSubmission(this, element, submitter);
    const { fetchRequest } = this.formSubmission;
    this.prepareRequest(fetchRequest);
    this.formSubmission.start();
}
prepareRequest(request) {
    var _a;
    request.headers[&quot;Turbo-Frame&quot;] = this.id;
    if ((_a = this.currentNavigationElement) === null || _a === void 0 ? void 0 : _a.hasAttribute(&quot;data-turbo-stream&quot;)) {
        request.acceptResponseType(StreamMessage.contentType);
    }
}
requestStarted(_request) {
    markAsBusy(this.element);
}
requestPreventedHandlingResponse(_request, _response) {
    this.resolveVisitPromise();
}
async requestSucceededWithResponse(request, response) {
    await this.loadResponse(response);
    this.resolveVisitPromise();
}
async requestFailedWithResponse(request, response) {
    await this.loadResponse(response);
    this.resolveVisitPromise();
}
requestErrored(request, error) {
    console.error(error);
    this.resolveVisitPromise();
}
requestFinished(_request) {
    clearBusyState(this.element);
}
formSubmissionStarted({ formElement }) {
    markAsBusy(formElement, this.findFrameElement(formElement));
}
formSubmissionSucceededWithResponse(formSubmission, response) {
    const frame = this.findFrameElement(formSubmission.formElement, formSubmission.submitter);
    frame.delegate.proposeVisitIfNavigatedWithAction(frame, formSubmission.formElement, formSubmission.submitter);
    frame.delegate.loadResponse(response);
    if (!formSubmission.isSafe) {
        session.clearCache();
    }
}
formSubmissionFailedWithResponse(formSubmission, fetchResponse) {
    this.element.delegate.loadResponse(fetchResponse);
    session.clearCache();
}
formSubmissionErrored(formSubmission, error) {
    console.error(error);
}
formSubmissionFinished({ formElement }) {
    clearBusyState(formElement, this.findFrameElement(formElement));
}
allowsImmediateRender({ element: newFrame }, options) {
    const event = dispatch(&quot;turbo:before-frame-render&quot;, {
        target: this.element,
        detail: Object.assign({ newFrame }, options),
        cancelable: true,
    });
    const { defaultPrevented, detail: { render }, } = event;
    if (this.view.renderer &amp;&amp; render) {
        this.view.renderer.renderElement = render;
    }
    return !defaultPrevented;
}
viewRenderedSnapshot(_snapshot, _isPreview) { }
preloadOnLoadLinksForView(element) {
    session.preloadOnLoadLinksForView(element);
}
viewInvalidated() { }
willRenderFrame(currentElement, _newElement) {
    this.previousFrameElement = currentElement.cloneNode(true);
}
async loadFrameResponse(fetchResponse, document) {
    const newFrameElement = await this.extractForeignFrameElement(document.body);
    if (newFrameElement) {
        const snapshot = new Snapshot(newFrameElement);
        const renderer = new FrameRenderer(this, this.view.snapshot, snapshot, FrameRenderer.renderElement, false, false);
        if (this.view.renderPromise)
            await this.view.renderPromise;
        this.changeHistory();
        await this.view.render(renderer);
        this.complete = true;
        session.frameRendered(fetchResponse, this.element);
        session.frameLoaded(this.element);
        this.fetchResponseLoaded(fetchResponse);
    }
    else if (this.willHandleFrameMissingFromResponse(fetchResponse)) {
        this.handleFrameMissingFromResponse(fetchResponse);
    }
}
async visit(url) {
    var _a;
    const request = new FetchRequest(this, FetchMethod.get, url, new URLSearchParams(), this.element);
    (_a = this.currentFetchRequest) === null || _a === void 0 ? void 0 : _a.cancel();
    this.currentFetchRequest = request;
    return new Promise((resolve) =&gt; {
        this.resolveVisitPromise = () =&gt; {
            this.resolveVisitPromise = () =&gt; { };
            this.currentFetchRequest = null;
            resolve();
        };
        request.perform();
    });
}
navigateFrame(element, url, submitter) {
    const frame = this.findFrameElement(element, submitter);
    frame.delegate.proposeVisitIfNavigatedWithAction(frame, element, submitter);
    this.withCurrentNavigationElement(element, () =&gt; {
        frame.src = url;
    });
}
proposeVisitIfNavigatedWithAction(frame, element, submitter) {
    this.action = getVisitAction(submitter, element, frame);
    if (this.action) {
        const pageSnapshot = PageSnapshot.fromElement(frame).clone();
        const { visitCachedSnapshot } = frame.delegate;
        frame.delegate.fetchResponseLoaded = (fetchResponse) =&gt; {
            if (frame.src) {
                const { statusCode, redirected } = fetchResponse;
                const responseHTML = frame.ownerDocument.documentElement.outerHTML;
                const response = { statusCode, redirected, responseHTML };
                const options = {
                    response,
                    visitCachedSnapshot,
                    willRender: false,
                    updateHistory: false,
                    restorationIdentifier: this.restorationIdentifier,
                    snapshot: pageSnapshot,
                };
                if (this.action)
                    options.action = this.action;
                session.visit(frame.src, options);
            }
        };
    }
}
changeHistory() {
    if (this.action) {
        const method = getHistoryMethodForAction(this.action);
        session.history.update(method, expandURL(this.element.src || &quot;&quot;), this.restorationIdentifier);
    }
}
async handleUnvisitableFrameResponse(fetchResponse) {
    console.warn(`The response (${fetchResponse.statusCode}) from &lt;turbo-frame id=&quot;${this.element.id}&quot;&gt; is performing a full page visit due to turbo-visit-control.`);
    await this.visitResponse(fetchResponse.response);
}
willHandleFrameMissingFromResponse(fetchResponse) {
    this.element.setAttribute(&quot;complete&quot;, &quot;&quot;);
    const response = fetchResponse.response;
    const visit = async (url, options = {}) =&gt; {
        if (url instanceof Response) {
            this.visitResponse(url);
        }
        else {
            session.visit(url, options);
        }
    };
    const event = dispatch(&quot;turbo:frame-missing&quot;, {
        target: this.element,
        detail: { response, visit },
        cancelable: true,
    });
    return !event.defaultPrevented;
}
handleFrameMissingFromResponse(fetchResponse) {
    this.view.missing();
    this.throwFrameMissingError(fetchResponse);
}
throwFrameMissingError(fetchResponse) {
    const message = `The response (${fetchResponse.statusCode}) did not contain the expected &lt;turbo-frame id=&quot;${this.element.id}&quot;&gt; and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;
    throw new TurboFrameMissingError(message);
}
async visitResponse(response) {
    const wrapped = new FetchResponse(response);
    const responseHTML = await wrapped.responseHTML;
    const { location, redirected, statusCode } = wrapped;
    return session.visit(location, { response: { redirected, statusCode, responseHTML } });
}
findFrameElement(element, submitter) {
    var _a;
    const id = getAttribute(&quot;data-turbo-frame&quot;, submitter, element) || this.element.getAttribute(&quot;target&quot;);
    return (_a = getFrameElementById(id)) !== null &amp;&amp; _a !== void 0 ? _a : this.element;
}
async extractForeignFrameElement(container) {
    let element;
    const id = CSS.escape(this.id);
    try {
        element = activateElement(container.querySelector(`turbo-frame#${id}`), this.sourceURL);
        if (element) {
            return element;
        }
        element = activateElement(container.querySelector(`turbo-frame[src][recurse~=${id}]`), this.sourceURL);
        if (element) {
            await element.loaded;
            return await this.extractForeignFrameElement(element);
        }
    }
    catch (error) {
        console.error(error);
        return new FrameElement();
    }
    return null;
}
formActionIsVisitable(form, submitter) {
    const action = getAction(form, submitter);
    return locationIsVisitable(expandURL(action), this.rootLocation);
}
shouldInterceptNavigation(element, submitter) {
    const id = getAttribute(&quot;data-turbo-frame&quot;, submitter, element) || this.element.getAttribute(&quot;target&quot;);
    if (element instanceof HTMLFormElement &amp;&amp; !this.formActionIsVisitable(element, submitter)) {
        return false;
    }
    if (!this.enabled || id == &quot;_top&quot;) {
        return false;
    }
    if (id) {
        const frameElement = getFrameElementById(id);
        if (frameElement) {
            return !frameElement.disabled;
        }
    }
    if (!session.elementIsNavigatable(element)) {
        return false;
    }
    if (submitter &amp;&amp; !session.elementIsNavigatable(submitter)) {
        return false;
    }
    return true;
}
get id() {
    return this.element.id;
}
get enabled() {
    return !this.element.disabled;
}
get sourceURL() {
    if (this.element.src) {
        return this.element.src;
    }
}
set sourceURL(sourceURL) {
    this.ignoringChangesToAttribute(&quot;src&quot;, () =&gt; {
        this.element.src = sourceURL !== null &amp;&amp; sourceURL !== void 0 ? sourceURL : null;
    });
}
get loadingStyle() {
    return this.element.loading;
}
get isLoading() {
    return this.formSubmission !== undefined || this.resolveVisitPromise() !== undefined;
}
get complete() {
    return this.element.hasAttribute(&quot;complete&quot;);
}
set complete(value) {
    this.ignoringChangesToAttribute(&quot;complete&quot;, () =&gt; {
        if (value) {
            this.element.setAttribute(&quot;complete&quot;, &quot;&quot;);
        }
        else {
            this.element.removeAttribute(&quot;complete&quot;);
        }
    });
}
get isActive() {
    return this.element.isActive &amp;&amp; this.connected;
}
get rootLocation() {
    var _a;
    const meta = this.element.ownerDocument.querySelector(`meta[name=&quot;turbo-root&quot;]`);
    const root = (_a = meta === null || meta === void 0 ? void 0 : meta.content) !== null &amp;&amp; _a !== void 0 ? _a : &quot;/&quot;;
    return expandURL(root);
}
isIgnoringChangesTo(attributeName) {
    return this.ignoredAttributes.has(attributeName);
}
ignoringChangesToAttribute(attributeName, callback) {
    this.ignoredAttributes.add(attributeName);
    callback();
    this.ignoredAttributes.delete(attributeName);
}
withCurrentNavigationElement(element, callback) {
    this.currentNavigationElement = element;
    callback();
    delete this.currentNavigationElement;
}</pre>

<p>} function getFrameElementById(id) {</p>

<pre>if (id != null) {
    const element = document.getElementById(id);
    if (element instanceof FrameElement) {
        return element;
    }
}</pre>

<p>} function activateElement(element, currentURL) {</p>

<pre>if (element) {
    const src = element.getAttribute(&quot;src&quot;);
    if (src != null &amp;&amp; currentURL != null &amp;&amp; urlsAreEqual(src, currentURL)) {
        throw new Error(`Matching &lt;turbo-frame id=&quot;${element.id}&quot;&gt; element has a source URL which references itself`);
    }
    if (element.ownerDocument !== document) {
        element = document.importNode(element, true);
    }
    if (element instanceof FrameElement) {
        element.connectedCallback();
        element.disconnectedCallback();
        return element;
    }
}</pre>

<p>}</p>

<p>class StreamElement extends HTMLElement {</p>

<pre>static async renderElement(newElement) {
    await newElement.performAction();
}
async connectedCallback() {
    try {
        await this.render();
    }
    catch (error) {
        console.error(error);
    }
    finally {
        this.disconnect();
    }
}
async render() {
    var _a;
    return ((_a = this.renderPromise) !== null &amp;&amp; _a !== void 0 ? _a : (this.renderPromise = (async () =&gt; {
        const event = this.beforeRenderEvent;
        if (this.dispatchEvent(event)) {
            await nextAnimationFrame();
            await event.detail.render(this);
        }
    })()));
}
disconnect() {
    try {
        this.remove();
    }
    catch (_a) { }
}
removeDuplicateTargetChildren() {
    this.duplicateChildren.forEach((c) =&gt; c.remove());
}
get duplicateChildren() {
    var _a;
    const existingChildren = this.targetElements.flatMap((e) =&gt; [...e.children]).filter((c) =&gt; !!c.id);
    const newChildrenIds = [...(((_a = this.templateContent) === null || _a === void 0 ? void 0 : _a.children) || [])].filter((c) =&gt; !!c.id).map((c) =&gt; c.id);
    return existingChildren.filter((c) =&gt; newChildrenIds.includes(c.id));
}
get performAction() {
    if (this.action) {
        const actionFunction = StreamActions[this.action];
        if (actionFunction) {
            return actionFunction;
        }
        this.raise(&quot;unknown action&quot;);
    }
    this.raise(&quot;action attribute is missing&quot;);
}
get targetElements() {
    if (this.target) {
        return this.targetElementsById;
    }
    else if (this.targets) {
        return this.targetElementsByQuery;
    }
    else {
        this.raise(&quot;target or targets attribute is missing&quot;);
    }
}
get templateContent() {
    return this.templateElement.content.cloneNode(true);
}
get templateElement() {
    if (this.firstElementChild === null) {
        const template = this.ownerDocument.createElement(&quot;template&quot;);
        this.appendChild(template);
        return template;
    }
    else if (this.firstElementChild instanceof HTMLTemplateElement) {
        return this.firstElementChild;
    }
    this.raise(&quot;first child element must be a &lt;template&gt; element&quot;);
}
get action() {
    return this.getAttribute(&quot;action&quot;);
}
get target() {
    return this.getAttribute(&quot;target&quot;);
}
get targets() {
    return this.getAttribute(&quot;targets&quot;);
}
raise(message) {
    throw new Error(`${this.description}: ${message}`);
}
get description() {
    var _a, _b;
    return (_b = ((_a = this.outerHTML.match(/&lt;[^&gt;]+&gt;/)) !== null &amp;&amp; _a !== void 0 ? _a : [])[0]) !== null &amp;&amp; _b !== void 0 ? _b : &quot;&lt;turbo-stream&gt;&quot;;
}
get beforeRenderEvent() {
    return new CustomEvent(&quot;turbo:before-stream-render&quot;, {
        bubbles: true,
        cancelable: true,
        detail: { newStream: this, render: StreamElement.renderElement },
    });
}
get targetElementsById() {
    var _a;
    const element = (_a = this.ownerDocument) === null || _a === void 0 ? void 0 : _a.getElementById(this.target);
    if (element !== null) {
        return [element];
    }
    else {
        return [];
    }
}
get targetElementsByQuery() {
    var _a;
    const elements = (_a = this.ownerDocument) === null || _a === void 0 ? void 0 : _a.querySelectorAll(this.targets);
    if (elements.length !== 0) {
        return Array.prototype.slice.call(elements);
    }
    else {
        return [];
    }
}</pre>

<p>}</p>

<p>class StreamSourceElement extends HTMLElement {</p>

<pre>constructor() {
    super(...arguments);
    this.streamSource = null;
}
connectedCallback() {
    this.streamSource = this.src.match(/^ws{1,2}:/) ? new WebSocket(this.src) : new EventSource(this.src);
    connectStreamSource(this.streamSource);
}
disconnectedCallback() {
    if (this.streamSource) {
        disconnectStreamSource(this.streamSource);
    }
}
get src() {
    return this.getAttribute(&quot;src&quot;) || &quot;&quot;;
}</pre>

<p>}</p>

<p>FrameElement.delegateConstructor = FrameController; if (customElements.get(turbo-frame) === undefined) {</p>

<pre class="ruby"><span class="ruby-identifier">customElements</span>.<span class="ruby-identifier">define</span>(<span class="ruby-string">&quot;turbo-frame&quot;</span>, <span class="ruby-constant">FrameElement</span>);
</pre>

<p>} if (customElements.get(turbo-stream) === undefined) {</p>

<pre class="ruby"><span class="ruby-identifier">customElements</span>.<span class="ruby-identifier">define</span>(<span class="ruby-string">&quot;turbo-stream&quot;</span>, <span class="ruby-constant">StreamElement</span>);
</pre>

<p>} if (customElements.get(turbo-stream-source) === undefined) {</p>

<pre class="ruby"><span class="ruby-identifier">customElements</span>.<span class="ruby-identifier">define</span>(<span class="ruby-string">&quot;turbo-stream-source&quot;</span>, <span class="ruby-constant">StreamSourceElement</span>);
</pre>

<p>}</p>

<p>(() =&gt; {</p>

<pre>let element = document.currentScript;
if (!element)
    return;
if (element.hasAttribute(&quot;data-turbo-suppress-warning&quot;))
    return;
element = element.parentElement;
while (element) {
    if (element == document.body) {
        return console.warn(unindent `
    You are loading Turbo from a &lt;script&gt; element inside the &lt;body&gt; element. This is probably not what you meant to do!

    Load your applications JavaScript bundle inside the &lt;head&gt; element instead. &lt;script&gt; elements in &lt;body&gt; are evaluated with each page change.

    For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

    
    Suppress this warning by adding a &quot;data-turbo-suppress-warning&quot; attribute to: %s
  `, element.outerHTML);
    }
    element = element.parentElement;
}</pre>

<p>})();</p>

<p>window.Turbo = Turbo; start();</p>

<p>export { FrameElement, FrameLoadingStyle, FrameRenderer, PageRenderer, PageSnapshot, StreamActions, StreamElement, StreamSourceElement, cache, clearCache, connectStreamSource, disconnectStreamSource, navigator$1 as navigator, registerAdapter, renderStreamMessage, session, setConfirmMethod, setFormMode, setProgressBarDelay, start, visit };</p>

</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.6.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

